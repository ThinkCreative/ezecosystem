a:10:{s:7:"content";s:64447:"
<div class="class-blog extrainfo">
    <div class="columns-blog float-break">
        <div class="main-column-position">
            <div class="main-column float-break">
                <div class="border-box">
                <div class="border-tl"><div class="border-tr"><div class="border-tc"></div></div></div>
                <div class="border-ml"><div class="border-mr"><div class="border-mc float-break">
                                                
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.llaumgui.com/post/ezfluxbb-13" title="eZFluxBB 1.3">eZFluxBB 1.3</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p>Je viens de publier la version 1.3 d'<a hreflang="en" href="http://projects.ez.no/ezfluxbb" title="An extension eZ publish which allows FluxBB and eZ Publish to communicate">eZFluxBB</a> l'extension permettant de lier votre forum <a hreflang="en" title="FluxBB is a fast, light, user-friendly forum application for your website" href="http://fluxbb.org/">FluxBB</a> à votre CMS <a hreflang="en" href="http://ez.no">eZ Publish</a>.</p>
<h3>Mais quelles sont les nouveautés ?</h3>
<ul>
<li>Ajout d'une fonction <a href="http://share.ez.no/learn/ez-publish/ezjscore-ez-publish-javascript-and-ajax-framework/%28page%29/9" hreflang="en" title="ezjscore: eZ Publish JavaScript and Ajax framework">eZJSCoreCallServer</a> pour récupérer les informations sur l'utilisateur courant,</li>
<li>Ajout d'un bloc eZFlow pour afficher les informations de connexion.</li>
</ul>
<h3>Autres nouveautés invisibles pour l'utilisateur</h3>
<p>eZFluxBB 1.3 marque <strong>la fin du support de PunBB/FluxBB 1.2</strong>. Jusqu’à présent lorsque vous configuriez eZFluxBB, vous instanciez au besoin la classe <em>eZFluxBB12</em> ou <em>eZFluxBB14</em> en fonction de votre version, toutes les 2 héritant de la classe <em>eZFluxBB</em>.</p>
<p>Le problème est que de plus en plus de différences apparaissent dans les versions mineures (cookie différent, etc...). J'ai donc arrêté d'utiliser cette façon de faire et j'ai maintenant recours à des appels à <a hreflang="fr" href="http://php.net/manual/fr/function.version-compare.php">version_compare</a> au sein du code.</p>
<p>Mais l'autre nouveauté est l'utilisation d'un fichier *.ini pour toutes les requêtes MySQL ! Cette façon de procéder quelque peu étrange permet :</p>
<ul>
<li>De modifier une requête uniquement dans le fichier ini en fonction de la version de FluxBB,</li>
<li>de pouvoir modifier une requête sans toucher au core de l'extension. Utile si vous avez des mods comme les sondages ou les messages privés sur votre forums.</li>
</ul>
<p>A noter également que cette version est issue du travail d'<a hreflang="en" href="http://ci.llaumgui.com/">intégration continue</a> que j'ai récemment mis en place pour tous mes projets. L'archive est d’ailleurs générées à partir de <a title="PHing Is Not GNU make; it's a PHP project build system or build tool based on Apache Ant." hreflang="en" href="http://www.phing.info/">phing</a>.</p>
<p>Comme d'habitude c'est téléchargeable sur la <a hreflang="en" href="http://projects.ez.no">forge de projet d'eZ Systems</a> :</p>
<ul>
<li><a hreflang="en" title="eZ Projects" href="http://projects.ez.no/ezfluxbb">Projet eZFluxBB</a>.</li>
<li><a hreflang="en" href="http://projects.ez.no/ezfluxbb/gallery">Galerie d'exemple</a>.</li>
<li><a hreflang="en" href="https://github.com/llaumgui/ezfluxbb">Fork me on gitHub !</a></li>
</ul>
</div>

    </div>

    <div class="attribute-url">
	<span>06/05/2012 05:10 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/eZFluxBB-1.3">View mirror of item</a> &nbsp; <a href="http://www.llaumgui.com/post/ezfluxbb-13">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.llaumgui.com/post/ipb-for-drupal%3A-un-connecteur-ipboard-/-drupal" title="IPB for Drupal: un connecteur IP.Board / Drupal">IPB for Drupal: un connecteur IP.Board / Drupal</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p>A l'occasion du projet de refonte de <a title="Le repaire des fougères" hreflang="fr" href="http://www.scenario-paintball.com/">Scénario-Paintball</a> sous <a title="Drupal is an open source content management platform powering millions of websites and applications. It’s built, used, and supported by an active and diverse community of people around the world." hreflang="en" href="http://drupal.org/">Drupal</a>, je suis en train de développer un <a title="IPB for Drupal Integration" hreflang="en" href="https://projects.llaumgui.com/p/ipb-for-drupal/">connecteur IPB / Drupal</a>.</p>
<h3>Pourquoi IP.Board ?</h3>
<p>SPB tourne maintenant depuis plusieurs années sous <a title="Community Forum software" hreflang="en" href="http://www.invisionpower.com/products/board/">IP.Board</a>. C'est malheureusement un logiciel propriétaire mais c'est aussi un forum terriblement efficace dont je possède une licence à vie (qui n'existe plus maintenant mais qui me permet de ne pas payer la redevance annuelle).</p>
<p>Le problème c'est que SPB ce n'est pas qu'un forum, c'est également un site. A chaque montée de version d'IPB, il faut trouver un portail et refaire pas mal de développements pour adapter les éléments hors forums à la nouvelle version.</p>
<p>J'ai donc décidé de migrer le portail de SPB sous un <a title="Système de gestion de contenu" hreflang="en" href="http://fr.wikipedia.org/wiki/Syst%C3%A8me_de_gestion_de_contenu">CMS</a> et de ne maintenir que le connecteur, un peu à la manière de <a title="Communauté des utilisateurs francophones de la distribution Linux Fedora" hreflang="fr" href="http://www.fedora-fr.org/">Fedora-Fr</a> sous <a title="FluxBB is fast, light, user-friendly forum software for your website." hreflang="en" href="http://fluxbb.org/">FluxBB</a> & <a title="eZ Systems Enterprise Content Management System | Enterprise Web CMS Open-Source" hreflang="en" href="http://ez.no/">eZ Publish</a> connectés via <a title=" eZFluxBB is an extension eZ publish which allows FluxBB (formerly PunBB) and eZ Publish to communicate. " hreflang="en" href="https://projects.llaumgui.com/p/ezfluxbb/">eZFluxBB</a>.</p>
<h3>Pourquoi Drupal ?</h3>
<p>Pour le cas de SPB, les avantages par rapport à une solution comme eZ Publish sont nombreux :</p>
<ul>
<li>Possibilité nativement pour les membres de personnaliser l'affichage des blocs.</li>
<li>Possibilité nativement pour les membres de créer des blogs (l'extension <a title="Integrated Blog Software for your IP.Board Community" hreflang="en" href="http://www.invisionpower.com/products/blog/">IP.Blog</a> existe pour IP.Board mais est soumise à une redevance annuelle).</li>
<li>Comme le site fait pas mal appel à la base de membres, j'ai préféré Drupal qui stocke les membres comme une entité à part contrairement à eZ Publish qui les stocke comme des objets classiques. Le problème intervient lorsqu'on possède un site à faible contenu avec une grosse base d'utilisateur, on fait vite grimper les ressources nécessaires juste pour les membres.</li>
<li>Après presque 7 années de pratique d'eZ Publish, je commence à faire le tour et j'avais envie de profiter de SPB pour varier les plaisirs..</li>
</ul>
<h3>Où en est le projet ?</h3>
<p>Pour le moment l'extension en est à ses balbutiements :</p>
<ul>
<li>Interface de configuration depuis le back-office Drupal.</li>
<li>Utilisation du couple login / mot de passe pour se connecter au site Drupal.</li>
<li>La session IP.Board est récupérée dans Drupal pour connecter automatiquement l'utilisateur.</li>
<li>Création des utilisateurs Drupal à la volée lors de leur connexion.</li>
<li>Bloc de statistiques.</li>
</ul>
<p>A venir :</p>
<ul>
<li>Exploitation des données sur les forums et topics.</li>
</ul>
<p>Bref, c'est un projet en cours de développement et sous licence <a title="GNU General Public License, version 2" hreflang="en" href="http://www.gnu.org/licenses/gpl-2.0.html">GPL v2</a> :</p>
<ul>
<li>Projet <a title="IPB for Drupal Integration" hreflang="en" href="https://projects.llaumgui.com/p/ipb-for-drupal/">IPB for Drupal</a>.</li>
<li>Miroir <a title="IPB for Drupal Integration" hreflang="en" href="https://github.com/llaumgui/ipb-for-drupal">GitHub</a>.</li>
<li><a title="llaumgui's sandbox: IPB for Drupal" hreflang="en" href="http://drupal.org/sandbox/llaumgui/1613432">Incubation sur le site de Drupal</a>.</li>
</ul>
</div>

    </div>

    <div class="attribute-url">
	<span>06/04/2012 05:16 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/IPB-for-Drupal-un-connecteur-IP.Board-Drupal">View mirror of item</a> &nbsp; <a href="http://www.llaumgui.com/post/ipb-for-drupal%3A-un-connecteur-ipboard-/-drupal">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://blog.agenceyuzu.fr/eZ-Publish/Integrer-vos-images-Pinterest-dans-eZ-Publish" title="Intégrer vos images Pinterest dans eZ Publish">Intégrer vos images Pinterest dans eZ Publish</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p><a href="http://www.pinterest.com">Pinterest</a> est le dernier réseau social qui fait parler en ce moment. Nous avons développé une extension qui permet d'intégrer vos images publiées sur votre compte Pinterest dans votre site <a href="http://ez.no">eZ Publish</a></p>
</div>

    </div>

    <div class="attribute-url">
	<span>06/03/2012 05:59 pm</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/Integrer-vos-images-Pinterest-dans-eZ-Publish">View mirror of item</a> &nbsp; <a href="http://blog.agenceyuzu.fr/eZ-Publish/Integrer-vos-images-Pinterest-dans-eZ-Publish">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://blog.agenceyuzu.fr/eZ-Publish/Limiter-l-affichage-du-debug-sur-eZ-Publish" title="Limiter l'affichage du débug sur eZ Publish">Limiter l'affichage du débug sur eZ Publish</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p>Le <a href="http://blog.agenceyuzu.fr/eZ-Publish/Activer-le-debuggage-sous-eZ-Publish">debug</a> est l'une des fonctionnalités native d'eZ Publish qui aide fortement le développeur. Mais pour un site en production, il est préférable de limiter l'affichage. Alors comment fait-on ?</p>
</div>

    </div>

    <div class="attribute-url">
	<span>05/29/2012 07:24 pm</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/Limiter-l-affichage-du-debug-sur-eZ-Publish">View mirror of item</a> &nbsp; <a href="http://blog.agenceyuzu.fr/eZ-Publish/Limiter-l-affichage-du-debug-sur-eZ-Publish">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://gandbox.fr/Blogs/Technologies-Web/Comprendre-le-fonctionnement-bas-niveau-du-cache-eZ-Publish-Le-cache-de-vue-Article-3" title="Comprendre le fonctionnement bas niveau du cache eZ Publish : Le cache de vue (Article 3)">Comprendre le fonctionnement bas niveau du cache eZ Publish : Le c ...</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p>Après ce « préambule » sur <b>les compilations de templates</b>, ce chapitre détaille le fonctionnement du <b>cache de vue</b> selon un axe pédagogique certainement perfectible (il est difficile de sélectionner un axe plutôt qu'un autre dans un contexte multidimensionnel).</p>
<p>Le <b>cache de vue</b> est mentionné sous diverses formes dans les fichiers de configuration, documentation ou tutoriaux : <i>le cache de contenu, le cache de vue, le cache de vue de contenu, le cache d'affichage de contenu...</i> ces termes désignent tous la même chose. Cet article utilise l'expression "<b>cache de vue</b>" afin d'être cohérent avec le vocabulaire du fichier de configuration "<b>viewcache.ini</b>"</p>

<h2>A quoi sert le cache de vue ?</h2>
<p>Pour vulgariser son usage, ou peut considérer que le cache de vue permet d'extraire « une seule fois » le contenu stocké dans eZ Publish, pour ensuite le mettre en cache (portion xHTML), en attendant une future expiration provoquant sa reconstruction (pour X raisons, la plus courante étant la mise à jour du contenu).</p>
<ul>
<li><b>le cache de vue s'applique</b> pour les URL couplée à un nœud par le module « <b>content</b> » : « <b>content/view/...</b> », qui retourne le contenu « cachable » au travers de <b>$module_result.content</b></li>
<li><b>le cache de vue ne s'applique pas</b> pour tout le reste, à savoir :
<ul>
<li>Le code autour du <b>$module_result.content</b> dans les divers pagelayout.tpl</li>
<li>dans tous les autres <b>modules</b> (natifs ou personnalisés)</li>
</ul>
</li>
</ul>

<h2>Les différents modes d'expiration du cache de vue</h2>
<p>Pour contrôler les performances d'eZ Publish, il est nécessaire de bien comprendre <b>quels sont les évènements / actions / déclencheurs qui peuvent provoquer l'expiration du cache de vue</b> pour une URL donnée (la home par exemple), un lot d’URL, ou encore toutes les URL (la pire des situations, qui ne devrait jamais être possible sur un site à fort trafic).</p>
<p><b>Une fois ces déclencheurs identifiés, le travail d'optimisation consiste à supprimer tous les déclencheurs critiques, au cas par cas</b>, surtout ceux capable de provoquer une expiration massive du cache de vue (voir l'impact sur les performances). Ce chapitre décrit les différents mécanismes d'expirations du cache de vue, alors que le prochain chapitre décrit les différents évènements qui peuvent provoquer l'un ou l'autre de ces mécanismes d'expiration.</p>
<p><b>Le cache de vue peut expirer selon 2 mécanismes bien distincts, selon qu'il s'agisse d'une expiration complète (tous les caches de vue) ou partielle (1 lot de noeuds impactés) :</b></p>
<ul>
<li>Expiration <b>par lot</b> de cache de vue (voir le chapitre suivant)</li>
<li>Expiration <b>complète</b> du cache de vue (voir le chapitre suivant)</li>
</ul>

<h3>Expiration par lot de cache de vue</h3>
<p>Lorsqu'un cache de vue expire pour X raisons détaillés plus loin (partons du scénario courant de la mise à jour d'un article), il implique généralement une liste de noeud ayant un cache à expirer : le noeud de l'article lui même, et par exemple les noeuds des articles en relations, les frères, les parents, ou les noeuds exploitant les même mots clés (datatype ezkeyword), etc. (selon les directives du <b>viewcache.ini</b>). <b>Il faut donc faire expirer un ensemble de fichiers de cache corrélés à cet ensemble de noeuds.</b></p>
<p>Une expiration d'un lot de cache consiste à "<b>altérer</b>" les fichiers de cache correspondant aux noeuds impliqués stockés dans<b>{VarDir}/cache/content/</b></p>
<p><b>Le mode d'altération des fichiers est différent en fonction du filehandler (file.ini) exploité :</b></p>
<ul>
<li>filehandler par défaut "<b>ezfsfilehandler</b>" : une suppression des fichiers impactés (unlink)</li>
<li>filehandler expérimental (stalecache) "<b>ezfs2filehandler</b>" : une modification de la date des fichiers impactés (touch), fixé au 25/05/1977 (jour de la sortie du 1er Star Wars)</li>
<li>filehandler de cluster DB "<b>ezdbfilehandler</b>" : une modification des enregistrements dans la table SQL "ezdbfile" (UPDATE expired=1)</li>
<li>filehandler de cluster DFS "<b>ezdfsfilehandler</b>" : une modification des enregistrements dans la table SQL "ezdfsfile" (UPDATE expired=1)</li>
</ul>
<p><b>Une fois altérés, les caches sont reconstruits par comparaison entre 2 états :</b></p>
<ul>
<li>filehandler par défaut "<b>ezfsfilehandler</b>" : si le fichier n'existe pas OU si la date du fichier est antérieure au timestamp du fichier expiry.php, recréer un cache</li>
<li>filehandler expérimental (stalecache) "<b>ezfs2filehandler</b>" : si la date du fichier est antérieure au timestamp du fichier expiry.php, le recréer</li>
<li>filehandler de cluster DB "<b>ezdbfilehandler</b>" : si le champs "expired=1" dans la table "ezdbfile" (pour rester simple) OU si la date du champs "mtime" est antérieure au timestamp du fichier expiry.php, recréer un cache</li>
<li>filehandler de cluster DFS "<b>ezdfsfilehandler</b>" : si le champs "expired=1" dans la table "ezdfsfile" (pour rester simple) OU si la date du champs "mtime" est antérieure au timestamp du fichier expiry.php, recréer un cache</li>
</ul>
<p><b>La reconstruction de ce cache intervient (si la comparaison est positive) :</b></p>
<ul>
<li>Soit : Par défaut, à la volée, lors de l'appel de l’URL par l'internaute</li>
<li>Soit lors de la publication de l'objet (si le paramètre <b>PreviewCache</b> du site.ini est activé). Dans ce cas, l’attente du contributeur lors de la publication en back office est plus ou moins supportable, puisque dépendante de la “boucle” sur l’ensemble des caches de vue à expirer</li>
</ul>

<h3>Expiration complète du cache de vue</h3>
<p>Pour des raisons de stabilité du système, lorsqu'un évènement exige l'expiration "complète" du cache de vue, eZ Publish ne peut bien évidement pas boucler sur l'ensemble des fichiers pour les faire expirer. Dans ce cas, la valeur '<b>content-view-cache</b>' du fichier <b>{VarDir}/cache/expiry.php</b> est modifiée afin de rendre opérant le mécanisme de comparaison expliqué ci-dessus.</p>
<p>Cet évènement n'est pas anodin, notamment sur les sites à fort trafic qui vont subir une charge importante lors de la reconstruction massive et rapide de l'ensemble des caches de vue. Il faut ainsi considérer que cet évènement ne doit jamais se produire sur un site à fort trafic et <b>qu'il est important d'identifier tous les déclencheurs possibles afin de les neutraliser (voir le chapitre concerné).</b></p>
<p>Cependant il est parfois difficile de contourner cet évènement (par exemple sur la création d'une classe de contenu), il faut dans ce cas disposer d'une architecture & d'un configuration eZ Publish suffisamment dimensionnée (<b>ou neutraliser le expiry.php par un backup...</b>), par exemple :</p>
<ul>
<li>Utilisation du <b>stalecache</b> (ezfs2filehandler, ezdfsfilehandler, ezdfsfilehandler seulement) permet de limiter les impacts sur les reconstructions concurrente des caches (homepage par exemple). Pour en savoir plus sur stalecache :<a href="http://share.ez.no/learn/ez-publish/ez-publish-knowledge-series-stale-cache-or-how-caches-in-ez-publish-4.1-are-handled-in-a-smarter-way">http://share.ez.no/learn/ez-publish/ez-publish-knowledge-series-stale-cache-or-how-caches-in-ez-publish-4.1-are-handled-in-a-smarter-way</a></li>
<li>Utilisation d'un <b>cache frontal (varnish)</b></li>
<li><b>Infrastructure d'hébergement flexible</b> (virtualisation, haute disponibilité), permettant d'assumer un pic de charge</li>
<li>Dans tous les cas une <b>optimisation du code des templates</b>, afin de limiter les pages générant trop de requêtes (utilisation eZ Find pour les listes à filtres, persistent variables, loadDataMap = false, etc.). Ces mécanismes d'optimisations du code pourraient faire l'objet d'un autre tutoriel...</li>
</ul>

<h2>Les déclencheurs d'expiration du cache de vue & les modes d'expirations associés (lot ou complet)</h2>
<p>Le chapitre précédent détaille les différentes modes d'expiration du cache de vue (par lot ou complet), ce chapitre décrit quand en lui les différentes évènements déclencheur qui peuvent provoquer cette expiration (par lot ou complète), que soit volontaire ou malgré vous.</p>
<p><b>Ces 2 notions de « volontaire » ou « malgré vous » sont déterminantes, puisque :</b></p>
<ul>
<li>L'expiration « <b>volontaire</b> » des caches de vue peut être utilisée à mauvais escient, par exemple pour tenter de résoudre un problème non lié au cache de vue ou encore en sous estimant l'impact d'un vidage massif du cache de vue, qui n'implique en fait qu'un seul lot de cache (on expire souvent tout le cache par facilités, ou parce qu'on ne connaît pas d'autres façon de procéder, sans considérer l'impact de cet action)</li>
<li>L'expiration « <b>malgré vous</b> » des caches de vue signifie que le cache a expiré suite à une action / évènement qui peut paraître anodine et non impactant pour les caches : <b>vous ne saviez tout simplement pas que cette action provoquait un expiration complète du cache de vue</b>. Ainsi l'ajout d'une classe de contenu provoque l'expiration complète du cache de vue, sans lien direct déductible, ce qui peut provoquer une charge serveur insupportable en fonction du contexte (fort trafic, pas de cache Varnish...)</li>
</ul>

<h3>Expiration complète du cache de vue par script</h3>
<p>Cette action est forcement « <b>volontaire</b> » :</p>
<pre class="bash">
php bin/php/ezcache.php --clear-<span style="color: #0000ff;">id=</span>content
 
</pre>
<p><i>Résultat</i> : Cache d'affichage de contenu</p>
<pre class="bash">
php bin/php/ezcache.php --clear-<span style="color: #0000ff;">tag=</span>content
 
</pre>
<p><i>Résultat</i> : Cache d'affichage de contenu, Cache des identifiants de classes, Cache des clés de classement, Cache des alias d'URL, Cache des template block, Cache RSS, Menu de l'arborescence de contenu., Cache des limitations d'états.</p>
<p>L'exécution de ces scripts ne cible pas un nœud ou une liste de nœud en particulier. L'expiration du cache de vue est donc globale : mise à jour du fichier <b>{VarDir}/cache/expiry.php</b>, et le changement de la valeur '<b>content-view-cache</b>' => timestamp à jour</p>

<h3>Expiration partielle du cache de vue par script</h3>
<p>Cette action est forcement « volontaire » :</p>
<pre class="bash">
php bin/php/ezcontentcache.php –clear-<span style="color: #0000ff;">node=</span><span style="color: #cc66cc;">2</span>
php bin/php/ezcontentcache.php –clear-<span style="color: #0000ff;">node=</span><span style="color: #cc66cc;">2</span>,<span style="color: #cc66cc;">46</span>,<span style="color: #cc66cc;">63</span>
php bin/php/ezcontentcache.php –clear-<span style="color: #0000ff;">node=</span>/company/about
php bin/php/ezcontentcache.php –clear-<span style="color: #0000ff;">subtree=</span>/company/about
php bin/php/ezcontentcache.php –clear-<span style="color: #0000ff;">subtree=</span>/company/about,/news
 
</pre>
<p><b>Documentation du script ezcontentcache.php :</b><br/>
<a href="http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Features/View-caching/Clearing-the-view-cache">http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Features/View-caching/Clearing-the-view-cache</a></p>
<blockquote><span class="quoteleft">“</span>
<p><b>Attention :</b> la suppression partielle du cache de contenu peut automatiquement se transformer en <b>suppression complète du cache de vue</b> si le nombre de nœuds impliqués ( par n’importe que noeud de la liste ou du sous arbre ) est supérieur au CacheThreshold (250 par défaut), voir le chapitre sur le <b>CacheThreshold</b></p>
<p><b>Attention :</b> Actuellement une expiration du cache de vue à partir d’une liste de noeuds ou d’un sous arbre reproduit l’ensemble du processus ( smartviewcache, CacheThreshold, expiration des template-block liés à un subtree expiry relatif, etc. ) pour chacun des noeud concernés (liste de noeuds, ou noeuds du sous arbre ). Ainsi, et pour simple exemple parmi d’autres, une règle de smartviewcache sur les frères ( siblings ) pourrait entraîner une expiration du cache de vue “au carré” ( les noeuds expirent autant de fois que le nombre de noeuds frères ), et rendre instable le système.</p>
<span class="quoteright">”</span></blockquote>

<h3>Expiration partielle du cache de vue par le viewcache.ini</h3>
<p>Le mécanisme du <b>viewcache.ini</b> est déjà largement détaillé dans d'autres tutoriaux, cet article souhaite s'attarder en particulier sur les configuration critiques ou les recommandations concernant les sites à fort trafic.</p>
<p>Il est en effet fréquent que les règles du <b>viewcache.ini</b> provoquent régulièrement l'expiration complète des caches de vues, malgré vous, sans réelle pertinence ou besoin fonctionnel. <b>En effet, la suppression partielle du cache de contenu peut automatiquement se transformer en suppression complète du cache de vue si le nombre de nœuds impliqués est supérieur au CacheThreshold (250 par défaut), voir le chapitre sur le CacheThreshold</b>.</p>
<p>Il est donc important de maîtriser le nombre de nœuds impactés par une mise à jour de contenu, et pour cela de travailler en mode « Smart view cache », en prenant soin de :</p>
<ul>
<li>Ne pas utiliser de directive « all »</li>
<li>Ne pas utiliser de directive « siblings » si le contenu est massivement stocker sous le même emplacement (frères)</li>
<li>Configurer le KeywordNodesCacheClearLimit à 0 si vous utilisez massivement les mots clés</li>
</ul>
<p><b>Documentation du fonctionnement du Smart view cache :</b><br/>
<a href="http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Features/View-caching/Smart-view-cache-cleaning">http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Features/View-caching/Smart-view-cache-cleaning</a><br/>
Documentation du <b>KeywordNodesCacheClearLimit</b> dans le fichier viewcache.ini<br/>
<i># The maximum number of linked keyword nodes to go trough</i><br/>
<i># when looking for objects that needs to have its cache cleared.</i><br/>
<i># Set to integer to activate, 0 to disable keyword clearing globally</i><br/>
<i># or disabled to not have any limit at all (default value)</i><br/>
<i>KeywordNodesCacheClearLimit=0</i></p>
<p><b>Documentation du fonctionnement du Smart view cache :</b><br/>
<a href="http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Features/View-caching/Smart-view-cache-cleaning">http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Features/View-caching/Smart-view-cache-cleaning</a></p>

<h3>Expiration volontaire du cache de vue en Back Office</h3>
<p>Expirer le cache de vue “<b>volontairement</b>” en Back Office, que ce soit via un nœud, un sous arbre ou l'ensemble du cache de vue (onglet <b>/setup/cache/</b>) est une mauvaise pratique a réserver exclusivement aux versions de développement du site.</p>
<p>Ce tutoriel ne souhaite pas faire la promotion de cette pratique (malheureusement trop répandu) et n'en dira donc pas plus à ce sujet à part : <b>un webmaster ou éditeur de contenu ne doit en aucun cas avoir accès aux fonctionnalités de gestion du cache, qui peut dans tous les cas :</b></p>
<ul>
<li><b>être automatisé et sécurisé sans avoir recours à des actions manuelles</b></li>
<li><b>provoquer d'énormes instabilités du système / crash serveurs sur un site à fort trafic</b></li>
</ul>
<blockquote><span class="quoteleft">“</span>
<p><b>Attention :</b> Actuellement une expiration du cache de vue à partir d’un noeud (back office ou script ezcontentcache.php), implique l’expiration récursive de tous les sous noeuds de l’emplacement sélectionné. Cette expiration reproduit l’ensemble du processus (smartviewcache, CacheThreshold, expiration des template-block liés à un subtree expiry relatif, etc.) pour chacun des noeud concernés. Ainsi, et pour simple exemple parmi d’autres, une règle de smartviewcache sur les frères (siblings) pourrait entraîner une expiration du cache de vue “au carré” (chaque noeud expire autant de fois que le nombre de noeuds frères), et rendre instable le système.</p>
<span class="quoteright">”</span></blockquote>

<h3>Expiration complète et involontaire du cache de vue suite à une action en Back Office</h3>
<p>Un certain nombre d’opérations font expirer l’ensemble du cache de vue en back office, malgré l’utilisateur ou l’administrateur, qui n’a pas forcement connaissance de la corrélation entre une action back office et l’expiration du cache de vue. Voici une liste, qu’on espère exhaustive des actions en back office qui font expirer l’ensemble du cache de vue :</p>
<ul>
<li><b>Rôles :</b> édition / suppression d’un rôle, édition / suppression de l’assignation d’un rôle</li>
<li><b>Sections :</b> assignation d’une section</li>
<li><b>La manipulation du ezshop :</b> manipulation des règles de discount, groupes de discount, affectation d’utilisateurs aux groupes, édition / suppression des monnaies, etc.</li>
<li><b>Classes de contenu :</b> la création d’une nouvelle classe (même sans objets associés), l’édition et la suppression d’une classe</li>
<li><b>Langues :</b> ajout / suppression d’une langue</li>
</ul>
<p>En dehors de la fonctionnalité de création d’une classe (sans object par défaut), les autres actions back office expirent logiquement l’ensemble du cache de vue. Comme nous le verrons dans un prochain chapitre, ces informations sont exploitées “par défaut” dans la clé de hash du cache de vue (sans prise en compte toutefois d’une éventuelle désactivation de certaines clés par exploitation du paramètre <b>ViewCacheTweaks</b>).</p>

<h3>CacheThreshold, une expiration partielle du cache de vue qui devient complète</h3>
<p>Lorsqu'un cache de vue expire pour X raisons (mise à jour d'un article, script ezcontentcache.php...), il implique généralement une liste de nœud ayant un cache à expirer : le nœud de l'article lui même, et par exemple les nœuds des articles en relations, les frères, les parents, ou les nœuds exploitant les même mots clés, etc. (selon les directives du <b>viewcache.ini</b>).</p>
<p>Au final, eZ Publish est capable de calculer le nombre de nœuds impliqués dans le vidage de cache déclenchés. Pour stabiliser le système et éviter par exemple d'ordonner l'altération de trop de fichiers de caches sur le serveur (unlink, touch, update SQL... selon le filehandler exploité), eZ Publish utilise pour cela une limite, le <b>CacheThreshold</b> :</p>
<ul>
<li><b>Si le nombre de noeuds impactés est inférieur au CacheThreshold :</b> eZ Publish « invalide » les fichiers de cache selon le filehandler exploité (suppression par défaut). Voir le chapitre qui détaille les différents mode d'altérations (unlink, touch, update SQL...)</li>
<li><b>Si le nombre de noeuds impactés est supérieur au CacheThreshold :</b> eZ Publish bascule alors en mode d'expiration complète du cache de vue par changement de la valeur '<b>content-view-cache</b>' (timestamp à jour), du fichier<b>{VarDir}/cache/expiry.php</b></li>
</ul>

<h2>Comment sont stockés les fichiers de cache de vues ?</h2>
<p>eZ Publish utilise une arborescence de répertoires sous <b>{VarDir}/cache/content/{siteaccess}/</b>, qui permet de répartir le gros volume potentiel de fichier générés, de la façon suivante :</p>
<ul>
<li><b>A la racine de {VarDir}/cache/content/{siteaccess}/</b> : les fichiers qui sont compris en "2-" et "99-"</li>
<li>dans les répertoires <b>{VarDir}/cache/content/{siteaccess}/{chiffre}/{chiffre}/{chiffre}</b> : les fichiers qui commencent par les "chiffre" cumulés + 2 chiffres, par exemple : "2/1/5" -> "215xx-"</li>
</ul>
<p><i>{VarDir}</i> = valeur du paramètre VarDir dans le site.ini (ou votre surchage spécifique), généralement "var/monsite/"<br/>
<br/>
<b>Voici une simulation simplifié d'une arborescence de cache de vue :</b><br/>
{VarDir}/cache/content/{siteaccess}/<br/>
<i>2-ce182234bd70236c6a009578d2a34632.cache</i><br/>
<i>20-ce182234bd70236c6a009578d2a34632.cache</i></p>
<p>{VarDir}/cache/content/{siteaccess}/1<br/>
<i>101-ce182234bd70236c6a009578d2a34632.cache</i><br/>
<i>105-ce182234bd70236c6a009578d2a34632.cache</i></p>
<p>{VarDir}/cache/content/{siteaccess}/2<br/>
<i>204-ce182234bd70236c6a009578d2a34632.cache</i><br/>
<i>210-ce182234bd70236c6a009578d2a34632.cache</i></p>
<p>{VarDir}/cache/content/{siteaccess}/5/2/1<br/>
<i>52101-ce182234bd70236c6a009578d2a34632.cache</i><br/>
<i>52144-ce182234bd70236c6a009578d2a34632.cache</i></p>
<p><b>Les noms des fichiers est construit de la façon suivante :</b></p>
<p><b>{nodeid}-{hash}.php</b><br/>
2-ce182234bd70236c6a009578d2a34632.cache</p>
<p>Le hash est calculé à partir de nombreuses valeurs séparées en 2 catégories :</p>
<ul>
<li>Les valeurs de clé présentes par défaut et <b>non désactivables</b></li>
<li>Les valeurs de clé présentes par défaut et <b>désactivables</b> par des directives du <b>site.ini</b> : les <b>ViewCacheTweaks</b>. Ces paramètres permettent de partager un même cache lorsque le contenu n'est pas influencé par le paramètre en question. Il est en effet plutôt inutile de générer et stocker des caches différents par « view_parameters » ou « user_preferences » lorsque le résultat produit n'est pas influencé par ces valeurs.</li>
</ul>
<p><i>Tableau des éléments de la clé de hash non désactivables</i></p>
<table class="renderedtable" border="0" cellpadding="2" cellspacing="0" width="100%" summary="Tableau des éléments de la clé de hash non désactivables">
<tr>
<th scope="col">
<p><b>Elément de la clé de hash</b></p>
</th>
<th scope="col">
<p><b>Signification</b></p>
</th>
<th scope="col">
<p><b>Exemple de valeur</b></p>
</th>
</tr>
<tr class="bglight">
<td><b>nodeID</b></td>
<td>Noeud courant</td>
<td><b>2</b></td>
</tr>
<tr class="bgdark">
<td><b>viewMode</b></td>
<td>
<p>Vue courante, dont la liste est extensible dans :</p>
<p>[ContentSettings] / CachedViewModes=full;sitemap;pdf</p>
</td>
<td><b>full | sitemap | pdf</b></td>
</tr>
<tr class="bglight">
<td><b>layout</b></td>
<td>Nom du pagelayout personnalité, si la vue est invoquée lors de l'appel d'un URL de type « <b>layout/set/print</b> » par exemple (module layout)</td>
<td><b>print</b></td>
</tr>
<tr class="bgdark">
<td><b>language</b></td>
<td>Sur définition de <b>/(language)/value</b></td>
<td><b>Null par défaut, sinon « value »</b></td>
</tr>
<tr class="bglight">
<td><b>offset</b></td>
<td>Sur définition de <b>/(offset)/value</b></td>
<td><b>Null par défaut, sinon « value »</b></td>
</tr>
<tr class="bgdark">
<td><b>indexFile</b></td>
<td>La racine de l'index du site, qui peut varié selon divers paramètres, comme par exemple : le nom du siteaccess en mode « <b>URI</b> », ou encore la racine «<b>layout/set/...</b> »</td>
<td><b>site_admin | layout/set/print</b></td>
</tr>
</table>
<p><b>Tableau des éléments de la clé de hash désactivables (Tweaks) par noeud ou en global</b></p>
<pre class="ini">
ViewCacheTweaks<span style="color: #000066; font-weight:bold;"><span style="">[</span><node_id><span style="">]</span></span>=<span style="color: #660066;"><setting><span style="">[</span></span><span style="color: #666666; font-style: italic;">;<setting2>]</span>
ViewCacheTweaks<span style="color: #000066; font-weight:bold;"><span style="">[</span>global<span style="">]</span></span>=<span style="color: #660066;"><setting><span style="">[</span></span><span style="color: #666666; font-style: italic;">;<setting2>]</span>
 
</pre>
<table class="renderedtable" border="0" cellpadding="2" cellspacing="0" width="100%" summary="Tableau des éléments de la clé de hash désactivables (Tweaks) par noeud ou en global">
<tr>
<th scope="col">
<p><b>Elément de la clé de hash</b></p>
</th>
<th scope="col">
<p><b>Signification</b></p>
</th>
<th scope="col">
<p><b>Exemple de valeur</b></p>
</th>
</tr>
<tr class="bglight">
<td><b>roleIDList</b></td>
<td>Liste des rôles affectés à l'utilisateur courant<br/>
<br/>
ViewCacheTweaks :<br/>
<b>ignore_userroles</b></td>
<td><b>5.10</b><br/>
implode de Array( 5, 10 )</td>
</tr>
<tr class="bgdark">
<td><b>limitValueList</b></td>
<td>
<p>Liste des limitations affectés à l'utilisateur courant (subtree)</p>
<p>ViewCacheTweaks :<br/>
<b>ignore_userlimitedlist</b></p>
</td>
<td><b>/1/2/./1/43/</b><br/>
implode de Array( '/1/2/', '1/43' )</td>
</tr>
<tr class="bglight">
<td><b>discountList</b></td>
<td>
<p>Liste des règles de « discount » liées à l'utilisateur courant (eZShop)</p>
<p>ViewCacheTweaks :<br/>
<b>ignore_discountlist</b></p>
</td>
<td>Non testé, même logique de tableau que ci-dessus</td>
</tr>
<tr class="bgdark">
<td><b>cacheNameExtra</b></td>
<td>Détermine que le « access type » du siteaccess est défini par URI, afin d'éventuellement stocker séparément les caches selon les « access type »<br/>
<br/>
ViewCacheTweaks :<br/>
<b>ignore_siteaccess_type</b></td>
<td><b>NULL | 2</b></td>
</tr>
<tr class="bglight">
<td><b>pr_user</b></td>
<td>Détermine s'il faut ou non stocker un cache par utilisateur (désactivé par défaut)<br/>
<br/>
ViewCacheTweaks :<br/>
<b>pr_user (active cette fois)</b></td>
<td><b>15-</b><br/>
<br/>
ObjectID, suivi de « - »</td>
</tr>
<tr class="bgdark">
<td><b>viewParameters</b></td>
<td>Liste les viewparameters : /(clé)/valeur/(clé2)/valeur/...<br/>
<br/>
ViewCacheTweaks :<br/>
<b>ignore_viewparameters</b></td>
<td><b>vp:day=vp:month=vp:namefilter=vp:offset=vp:year=</b><br/>
Liste de « vp: » + clé + « = » + valeur</td>
</tr>
<tr class="bglight">
<td><b>userPreferences</b></td>
<td>
<p>Liste les préférences utilisateur courante, en ajoutant celles définies dans</p>
<p><b>[ContentSettings] / CachedViewPreferences</b></p>
</td>
<td>
<p><b>p:admin_navigation_content=1; p:admin_children_viewmode=list; p:admin_list_limit=1 ;</b></p>
<p>Liste de «p: » + clé + « = » + valeur + « ; »</p>
</td>
</tr>
</table>
<p><b>Au final le nom du fichier est constuit selon la trame :</b><br/>
{VarDir}/cache/content/{siteaccess}/{$numbers}/$nodeID . '-' . $cacheNameExtra . md5( implode( '-', $cacheHashArray ) ) . '.cache';</p>
<ul>
<li><b>$nodeID</b> est le noeud courant</li>
<li><b>$cacheNameExtra</b> est vide en mode <b>HOST</b>, égal à 2 en mode <b>URI</b> (ou vide si le ViewCacheTweaks<b>ignore_siteaccess_type</b> est activé)</li>
<li><b>$cacheHashArray</b> est le tableau de toutes les valeurs décrites ci-dessus</li>
</ul>
<p>La clé de hash est donc constituée de plusieurs paramètres combinables, qui font impérativement connaître afin de bien comprendre et maîtriser l'impact d'une suppression complète du cache de vue.</p>
<p>En effet, un possédant de nombreux <b>siteaccess</b> et surtout de nombreuses combinaisons de '<b>viewparameters</b>' pourrait générer un grand nombre de combinaisons possibles de cache de vue, autant de caches à reconstruire lors d'une expiration massive !</p>
<p>Si on suit cette logique de construction, cela implique que la construction d'une URL erronée, mais "valide" dans la typologie d'URL eZ Publish génère également systématique un cache de vue : http://website.com/(param)/hello1, http://website.com/(param)/hello2, http://website.com/(param)/nimportequoi , etc... <b>On peut ainsi remplir progressivement le disque de cache inutiles, et rendre critique une expiration de cache sur le nœud concerné par une invalidation trop massive de fichiers de caches</b></p>

<h2>Comment faire la correspondance entre un cache de vue et la page / URL d'origine ?</h2>
<p>Pour les plus courageux qui souhaitent explorer les fichiers de caches générés et en déduire une exploitation / information utile, voici quelques pistes permettant d'effectuer un peu d'optimisation.</p>
<p>Comme nous l'avons détaillés précédemment, un même nœud peut avoir <b>une grande combinaison de caches de vues (voir la clé de hash du nom du fichier dans le chapitre concerné)</b>. Dans un souci d'optimisation, il peut être utile d'investiguer la cause d'une génération massive de cache de vue (homepage par exemple) : <b>des centaines de caches de vue sur le noeud "2-{hash}.cache".</b></p>
<p>Dans ce cas, lorsqu'on explore un fichier généré, on retrouve en pied de fichier la combinaison de paramètres qui a provoqué sa génération, puisqu'à l'origine d'une clé différente de hash, par exemple :<br/>
<i>"view_parameters";a:6:{s:6:"offset";b:0;s:4:"year";b:0;s:5:"month";b:0;s:3:"day";b:0;s:10:"namefilter";b:0;s:4:"test";s:1:"2";}</i></p>
<p>On peut en déduire que ce cache a été provoqué par la présence du viewparameter "<b>/(test)/2</b>"</p>

<h2>Comment logger l’activité du cache de vue ?</h2>
<p>La meilleure façon de maitriser son optimisation du cache de vue reste encore de pouvoir logguer son activité de la façon suivante :</p>
<ul>
<li>Quelle URL a déclenché une expiration ?</li>
<li>Quel est le noeud concerné ?</li>
<li>Combien d’autres noeuds sont concernés par cette expiration ?</li>
<li>Quel est la liste de ces autres noeuds ?</li>
</ul>
<p>Depuis eZ Publish 4.5, il existe une façon assez simple de procéder, en utilisant le mécanisme de programmation événementiel : <b>ezpEvent</b>. Un certain nombre d’évènements sont ainsi positionnés dans le Kernel eZ Publish ( en fonction des évolutions fonctionnelles ou des besoins du eZ Market ). Ainsi l’évènement “<b>content/cache</b>” est disponible par défaut sur eZ Publish.<br/>
<b>Pour logger l’activité du cache de vue, il suffit donc :</b></p>
<ul>
<li><b>1. De faire un mapping entre l’évènement “content/cache”,</b> et une méthode statique d’une nouvelle classe ( par exemple la méthode <b>logviewcache</b> de la classe <b>test</b> )</li>
</ul>
<p>Dans votre settings/override/site.ini.append.php :</p>
<pre class="ini">
<span style="color: #000066; font-weight:bold;"><span style="">[</span>Event<span style="">]</span></span>
Listeners<span style="">[</span><span style="">]</span>=content/cache@test::logviewcache
 
</pre>
<ul>
<li><b>2. De créer la classe PHP</b> en question ( répertoire classes/ d’une extension ), en écrivant le code souhaité, par exemple :</li>
</ul>
<pre class="php">
<span style="color: #000000; font-weight: bold;"><?php</span>
<span style="color: #000000; font-weight: bold;">class</span> test
<span style="color: #66cc66;">{</span>       
   <a href="http://www.php.net/static"><span style="color: #000066;">static</span></a> <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> logviewcache<span style="color: #66cc66;">(</span> <span style="color: #0000ff;">$nodeList</span> <span style="color: #66cc66;">)</span>
   <span style="color: #66cc66;">{</span>
    <span style="color: #0000ff;">$uri</span> = <span style="color: #0000ff;">$GLOBALS</span><span style="color: #66cc66;">[</span><span style="color: #ff0000;">'_SERVER'</span><span style="color: #66cc66;">]</span><span style="color: #66cc66;">[</span><span style="color: #ff0000;">'REQUEST_URI'</span><span style="color: #66cc66;">]</span>;
    eZLog::<span style="color: #006600;">write</span><span style="color: #66cc66;">(</span><span style="color: #ff0000;">'node_id count : '</span>. <a href="http://www.php.net/count"><span style="color: #000066;">count</span></a><span style="color: #66cc66;">(</span> <span style="color: #0000ff;">$nodeList</span> <span style="color: #66cc66;">)</span>. <span style="color: #ff0000;">' / node_id list : '</span> . <a href="http://www.php.net/implode"><span style="color: #000066;">implode</span></a><span style="color: #66cc66;">(</span><span style="color: #ff0000;">', '</span>, <span style="color: #0000ff;">$nodeList</span> <span style="color: #66cc66;">)</span> . <span style="color: #ff0000;">' / URI : '</span>.<span style="color: #0000ff;">$uri</span>, <span style="color: #ff0000;">'chachethresold.log'</span><span style="color: #66cc66;">)</span>;
 
    <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">$nodeList</span>;
<span style="color: #66cc66;">}</span><span style="color: #66cc66;">}</span>
<span style="color: #000000; font-weight: bold;">?></span>
 
</pre>
<ul>
<li><b>3. Regénérer les autoloads :</b></li>
</ul>
<pre class="bash">
php bin/php/ezpgenerateautoloads.php
 
</pre>

<h2>Le cache de vue « in a nutshell » : 5 minutes et 2 schémas</h2>
<div class="">
<p><a href="http://www.gandbox.fr/var/plain_site/storage/images/media/images/technologie-web/ez-publish-viewcache/21916-1-fre-FR/eZ-Publish-viewcache.png"><img src="http://www.gandbox.fr/var/plain_site/storage/images/media/images/technologie-web/ez-publish-viewcache/21916-1-fre-FR/eZ-Publish-viewcache_reference.png" width="571" height="600" style="border: 0px;" alt="eZ Publish viewcache" title="eZ Publish viewcache"/></a></p>
</div>
<div class="">
<p><a href="http://www.gandbox.fr/var/plain_site/storage/images/media/images/technologie-web/ez-publish-viewcache-2/21919-1-fre-FR/eZ-Publish-viewcache-2.png"><img src="http://www.gandbox.fr/var/plain_site/storage/images/media/images/technologie-web/ez-publish-viewcache-2/21919-1-fre-FR/eZ-Publish-viewcache-2_reference.png" width="600" height="421" style="border: 0px;" alt="eZ Publish viewcache 2" title="eZ Publish viewcache 2"/></a></p>
</div>
</div>

    </div>

    <div class="attribute-url">
	<span>05/18/2012 05:11 pm</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/Comprendre-le-fonctionnement-bas-niveau-du-cache-eZ-Publish-Le-cache-de-vue-Article-3">View mirror of item</a> &nbsp; <a href="http://gandbox.fr/Blogs/Technologies-Web/Comprendre-le-fonctionnement-bas-niveau-du-cache-eZ-Publish-Le-cache-de-vue-Article-3">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://blog.agenceyuzu.fr/eZ-Publish/Activer-le-debuggage-sous-eZ-Publish" title="Activer le debuggage sous eZ Publish">Activer le debuggage sous eZ Publish</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p>Quand on développe sous eZ Publish, l'outil indispensable indispensable du développeur est le debugger (ou debogueur en français) interne. Alors comment activer ce mode et gagner du temps en développement ?</p>
</div>

    </div>

    <div class="attribute-url">
	<span>05/12/2012 03:54 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/Activer-le-debuggage-sous-eZ-Publish">View mirror of item</a> &nbsp; <a href="http://blog.agenceyuzu.fr/eZ-Publish/Activer-le-debuggage-sous-eZ-Publish">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.acidre.com/blog/ez-publish-derniere-version-communautaire-2012-4/" title="eZ Publish dernière version communautaire 2012.4">eZ Publish dernière version communautaire 2012.4</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p><span class="drop">L</span>a version communautaire du CMS eZ Publish, 2012.4 est disponible au téléchargement.</p>
<p>Plus d’infos :<br/>
<a href="http://share.ez.no/blogs/community-project-board/ez-publish-community-project-2012.4-available-now">http://share.ez.no/blogs/community-project-board/ez-publish-community-project-2012.4-available-now</a></p>
<p>Télécharger :<br/>
<a href="http://share.ez.no/downloads/downloads/ez-publish-community-project-2012.4">http://share.ez.no/downloads/downloads/ez-publish-community-project-2012.4</a></p>
</div>

    </div>

    <div class="attribute-url">
	<span>05/02/2012 11:07 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/eZ-Publish-derniere-version-communautaire-2012.4">View mirror of item</a> &nbsp; <a href="http://www.acidre.com/blog/ez-publish-derniere-version-communautaire-2012-4/">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.acidre.com/blog/tip-ez-publish-affichage-des-colonnes-par-defaut-dans-linterface-dadministration/" title="Tip eZ Publish : affichage des colonnes par défaut dans l’interface d’administration">Tip eZ Publish : affichage des colonnes par défaut dans l’inter ...</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p><strong><span class="drop">T</span>ip :</strong></p>
<p>Dans l’ancienne interface d’eZ Publish, les champs affichés dans le backoffice sont « codés en dur ». Dans la nouvelle interface d’administration (dont le design est admin2), les champs affichés par défaut sont gérés dans le fichier adminterface.ini (à surcharger bien sûr), dans le bloc [SubItems], variable VisibleColumns :</p>
<pre>
[SubItems]
VisibleColumns[ezcontentnavigationpart]=checkbox;crank;name;published_date;translations;priority
</pre></div>

    </div>

    <div class="attribute-url">
	<span>04/26/2012 03:47 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/Tip-eZ-Publish-affichage-des-colonnes-par-defaut-dans-l-interface-d-administration">View mirror of item</a> &nbsp; <a href="http://www.acidre.com/blog/tip-ez-publish-affichage-des-colonnes-par-defaut-dans-linterface-dadministration/">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.acidre.com/blog/ez-publish-upload-dun-fichier-binaire-dans-un-formulaire/" title="eZ Publish : upload d’un fichier binaire dans un formulaire">eZ Publish : upload d’un fichier binaire dans un formulaire</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p><span class="drop">U</span>n besoin récurrent dans les formulaires de saisie, tels qu’un formulaire de candidature à une offre d’emploi, ou un formulaire de participation à un concours photo, est le téléchargement (upload en fait) d’un fichier, information qui sera collectée et envoyée par mail à X destinaires.</p>
<p>Sur eZ Publish, lors de l’édition d’une classe où l’attribut est de datatype « fichier », ce dernier ne permet pas de cocher la case « information collectée ».  En effet, le datatype « ezbinaryfile »ne le permet pas (Sujet traité sur le forum officiel ici : <a href="http://share.ez.no/forums/general/files-and-collected-informations">http://share.ez.no/forums/general/files-and-collected-informations</a>).</p>
<p>Il existe cependant une solution, qui est l’installation d’un nouveau datatype : <a href="http://projects.ez.no/enhancedezbinaryfile">http://projects.ez.no/enhancedezbinaryfile</a>.</p>
</div>

    </div>

    <div class="attribute-url">
	<span>04/10/2012 07:55 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/eZ-Publish-upload-d-un-fichier-binaire-dans-un-formulaire">View mirror of item</a> &nbsp; <a href="http://www.acidre.com/blog/ez-publish-upload-dun-fichier-binaire-dans-un-formulaire/">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Planet-eZ-Publish.fr">Planet eZ Publish.fr</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://blog.agenceyuzu.fr/eZ-Publish/Astuce-de-la-semaine-5" title="Astuce de la semaine #5">Astuce de la semaine #5</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      
<div><p>Comment désactiver un compte utilisateur sur <a href="http://ez.no">eZ Publish</a> ?</p>
</div>

    </div>

    <div class="attribute-url">
	<span>04/03/2012 01:48 am</span> &nbsp; <a href="http://www.planet-ezpublish.fr">www.planet-ezpublish.fr</a> &nbsp; <a href="/Mirror/Planet-eZ-Publish.fr/Astuce-de-la-semaine-5">View mirror of item</a> &nbsp; <a href="http://blog.agenceyuzu.fr/eZ-Publish/Astuce-de-la-semaine-5">View item</a>
    </div>

        

    </div>
</div>                        
            

<div class="pagenavigator">
<p>

           <span class="previous"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/40"><span class="text">&laquo;&nbsp;Previous</span></a></span>
       
            <span class="next"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/60"><span class="text">Next&nbsp;&raquo;</span></a></span>
      
<span class="pages">
                      <span class="other"><a href="/Mirror/Planet-eZ-Publish.fr">1</a></span>
                              <span class="other"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/10">2</a></span>
                              <span class="other"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/20">3</a></span>
                              <span class="other"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/30">4</a></span>
                              <span class="other"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/40">5</a></span>
            
        <span class="current">6</span>

                      <span class="other"><a href="/Mirror/Planet-eZ-Publish.fr/(offset)/60">7</a></span>
            
</span>

</p>
<div class="break"></div>
</div>

 

                </div></div></div>
                <div class="border-bl"><div class="border-br"><div class="border-bc"></div></div></div>
                </div>
            </div>
        </div>

        <div class="extrainfo-column-position">
            <div class="extrainfo-column">
                <div class="border-box">
                <div class="border-tl"><div class="border-tr"><div class="border-tc"></div></div></div>
                <div class="border-ml"><div class="border-mr"><div class="border-mc float-break">
                                                <div class="attribute-tag-cloud">
                        <p>
                            
                        </p>
                        </div>

                        <div class="attribute-description">
                            
                        </div>

                        <div class="attribute-tags">
                            <h1>Tags</h1>
                            <ul>
                                                        </ul>
                        </div>

                        <div class="attribute-archive">
                            <h1>Archive</h1>
                            <ul>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/7/(year)/2014" title="">July 2014</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/3/(year)/2014" title="">March 2014</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/2/(year)/2014" title="">February 2014</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/12/(year)/2013" title="">December 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/11/(year)/2013" title="">November 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/10/(year)/2013" title="">October 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/9/(year)/2013" title="">September 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/6/(year)/2013" title="">June 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/5/(year)/2013" title="">May 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/4/(year)/2013" title="">April 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/1/(year)/2013" title="">January 2013</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/12/(year)/2012" title="">December 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/10/(year)/2012" title="">October 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/9/(year)/2012" title="">September 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/8/(year)/2012" title="">August 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/7/(year)/2012" title="">July 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/6/(year)/2012" title="">June 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/5/(year)/2012" title="">May 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/4/(year)/2012" title="">April 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/3/(year)/2012" title="">March 2012</a></li>
                                                            <li><a href="/Mirror/Planet-eZ-Publish.fr/(month)/2/(year)/2012" title="">February 2012</a></li>
                                                        </ul>
                        </div>

                        <!--START: CAL NAV -->
    
<div class="calendar">
<div class="calendar-tl"><div class="calendar-tr"><div class="calendar-bl"><div class="calendar-br">
<div class="content">

<div class="month">
<div class="previous">
<p><a href="/Mirror/Planet-eZ-Publish.fr/(month)/7/(year)/2014" title="Previous month">&#8249;&#8249;<span class="hide"> Previous month</span></a></p>
</div>
<div class="next">
<p><a href="/Mirror/Planet-eZ-Publish.fr/(month)/9/(year)/2014" title="Next month"><span class="hide">Next month </span>&#8250;&#8250;</a></p>
</div>
<h2>August&nbsp;2014</h2>
</div>

<div class="table">
<table cellspacing="0" border="0" summary="Calendar">
<tr class="top">
    <th class="left">Mon</th>
    <th>Tue</th>
    <th>Wed</th>
    <th>Thu</th>
    <th>Fri</th>
    <th>Sat</th>
    <th class="right">Sun</th>
</tr>                <tr class="">
                                            <td class="left">&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            <td class=" ">
            1
        </td>
                            <td class=" ">
            2
        </td>
                                        <td class="  right">
            3
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            4
        </td>
                            <td class=" ">
            5
        </td>
                            <td class=" ">
            6
        </td>
                            <td class=" ">
            7
        </td>
                            <td class=" ">
            8
        </td>
                            <td class=" ">
            9
        </td>
                                        <td class="  right">
            10
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            11
        </td>
                            <td class=" ">
            12
        </td>
                            <td class=" ">
            13
        </td>
                            <td class=" ">
            14
        </td>
                            <td class=" ">
            15
        </td>
                            <td class=" ">
            16
        </td>
                                        <td class="  right">
            17
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            18
        </td>
                            <td class=" ">
            19
        </td>
                            <td class=" ">
            20
        </td>
                            <td class=" ">
            21
        </td>
                            <td class=" ">
            22
        </td>
                            <td class=" ">
            23
        </td>
                                        <td class="  right">
            24
        </td>
                </tr>
                        <tr class="bottom">
                    <td class="  left">
            25
        </td>
                            <td class="currentselected today">
            26
        </td>
                            <td class=" ">
            27
        </td>
                            <td class=" ">
            28
        </td>
                            <td class=" ">
            29
        </td>
                            <td class=" ">
            30
        </td>
                                        <td class="  right">
            31
        </td>
                </tr>
        </table>
</div>

</div>
</div></div></div></div>
</div>

<!-- END: CAL NAV -->                </div></div></div>
                <div class="border-bl"><div class="border-br"><div class="border-bc"></div></div></div>
                </div>
            </div>
        </div>
    </div>
</div>";s:15:"view_parameters";a:5:{s:6:"offset";s:2:"50";s:4:"year";b:0;s:5:"month";b:0;s:3:"day";b:0;s:10:"namefilter";b:0;}s:4:"path";a:3:{i:0;a:4:{s:4:"text";s:12:"eZ Ecosystem";s:3:"url";s:20:"/content/view/full/2";s:9:"url_alias";s:0:"";s:7:"node_id";s:1:"2";}i:1;a:4:{s:4:"text";s:6:"Mirror";s:3:"url";s:22:"/content/view/full/216";s:9:"url_alias";s:6:"Mirror";s:7:"node_id";s:3:"216";}i:2;a:4:{s:4:"text";s:20:"Planet eZ Publish.fr";s:3:"url";b:0;s:9:"url_alias";b:0;s:7:"node_id";s:3:"239";}}s:10:"title_path";a:3:{i:0;a:4:{s:4:"text";s:12:"eZ Ecosystem";s:3:"url";s:20:"/content/view/full/2";s:9:"url_alias";s:0:"";s:7:"node_id";s:1:"2";}i:1;a:4:{s:4:"text";s:6:"Mirror";s:3:"url";s:22:"/content/view/full/216";s:9:"url_alias";s:6:"Mirror";s:7:"node_id";s:3:"216";}i:2;a:3:{s:4:"text";s:20:"Planet eZ Publish.fr";s:3:"url";b:0;s:9:"url_alias";b:0;}}s:10:"section_id";s:1:"1";s:7:"node_id";s:3:"239";s:15:"navigation_part";s:23:"ezcontentnavigationpart";s:12:"content_info";a:24:{s:9:"object_id";s:3:"237";s:7:"node_id";s:3:"239";s:14:"parent_node_id";s:3:"216";s:8:"class_id";s:2:"19";s:16:"class_identifier";s:4:"blog";s:9:"remote_id";s:32:"151890fdce8e55ae15819afeafc7c857";s:14:"node_remote_id";s:32:"7f415b1fa83ea305e9dda229c01e0140";s:6:"offset";i:50;s:8:"viewmode";s:4:"full";s:26:"navigation_part_identifier";s:23:"ezcontentnavigationpart";s:10:"node_depth";s:1:"3";s:9:"url_alias";s:27:"Mirror/Planet-eZ-Publish.fr";s:16:"current_language";s:6:"eng-US";s:13:"language_mask";s:1:"2";s:12:"main_node_id";s:3:"239";s:19:"main_node_url_alias";b:0;s:19:"persistent_variable";a:2:{s:9:"left_menu";b:0;s:10:"extra_menu";b:0;}s:11:"class_group";b:0;s:5:"state";a:1:{i:2;s:1:"1";}s:16:"state_identifier";a:1:{i:0;s:18:"ez_lock/not_locked";}s:15:"parent_class_id";s:1:"1";s:23:"parent_class_identifier";s:6:"folder";s:21:"parent_node_remote_id";s:32:"418ada46ecd2d42b7744e9cee6c51085";s:23:"parent_object_remote_id";s:32:"5b6a5a0179108fb40b786874ab09d743";}s:13:"template_list";a:3:{i:0;s:64:"extension/ezecosystem/design/eze/templates/tagcloud/tagcloud.tpl";i:1;s:61:"design/standard/templates/content/datatype/view/ezxmltext.tpl";i:2;s:66:"extension/ezwebin/design/ezwebin/templates/parts/blog/calendar.tpl";}s:9:"cache_ttl";i:-1;}