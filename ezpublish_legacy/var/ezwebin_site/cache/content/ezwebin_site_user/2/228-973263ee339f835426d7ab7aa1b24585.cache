a:10:{s:7:"content";s:104218:"
<div class="class-blog extrainfo">
    <div class="columns-blog float-break">
        <div class="main-column-position">
            <div class="main-column float-break">
                <div class="border-box">
                <div class="border-tl"><div class="border-tr"><div class="border-tc"></div></div></div>
                <div class="border-ml"><div class="border-mr"><div class="border-mc float-break">
                                                
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgen.hr/Blog/About-the-eZ-Product-Innovation-Board" title="About the eZ Product Innovation Board">About the eZ Product Innovation Board</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>As <a href="http://www.netgen.hr/eng/Netgen/News/Netgen-has-a-representative-in-the-eZ-Product-Innovation-Board" target="_self">reported few months back</a>&nbsp;I was called to join the<b>&nbsp;eZ Product Innovation Board</b>. We had 2 meetings so far and I guess it is now a good time to cover the topic on our blog.</p><a name="eztoc8416_1" id="eztoc8416_1"></a><h2>The Board</h2><p>To be as much diverse as possible the Board has various eZ Ecosystem stakeholders: <b>partners, clients, employees, analysts</b>, etc. All in all roughly 20 people are involved in the initiative for 18 months or 6 meetings, 2 have already been held in London and Rome. The Board's tasks is to discuss possible improvements and new features which are most needed in the eZ Publish CMS and to suggest the best options to eZ Publish product management.&nbsp;</p><p>Chairman of the board is <a href="http://twitter.com/bardfarstad" target="_self">Bård Farstad</a> and he wrote few blog post after the initiative was announced: <a href="http://ez.no/About-eZ/Blog/Better-Faster-Stronger-Innovation-at-eZ" target="_self">ez.no/About-eZ/Blog/Better-Faster-Stronger-Innovation-at-eZ</a>&nbsp;and&nbsp;<a href="http://ez.no/About-eZ/Blog/Product-Innovation-at-eZ-First-Steps" target="_self">ez.no/About-eZ/Blog/Product-Innovation-at-eZ-First-Steps</a>.</p><p>The main idea behind the board is to have an all day meeting every 3 months to discuss use cases from all possible angles and then voting to see which use cases are more interesting than other. After the meeting the most interesting ones are sent to eZ Product management. So the board acts like a prioritized filter: processing the queue of use cases and outputting them sorted by priority.</p><a name="eztoc8416_2" id="eztoc8416_2"></a><h2>UX</h2>
<div class="object-right"><div class="content-view-embed">
<div class="class-image">
    <div class="attribute-image">

    
        
    
                                                                                                                                            <img src="http://www.netgen.hr/var/ezflow_site/storage/images/media/images/ez-pib-in-london/8426-1-cro-HR/eZ-PIB-in-London_large.jpg" width="360" height="267"  style="border: 0px solid ;" alt="Some member of the board in London (taken by Stewart Wilkinson)" title="Some member of the board in London (taken by Stewart Wilkinson)" />
            
    
    
    </div>

                                        <div class="attribute-caption" style="width: 360px">
                
<p>Some member of the board in London (taken by Stewart Wilkinson)</p> </div>
         </div>
</div>
</div><p>On the first meeting in <b>London</b> the main topic was<b>&nbsp;user experience</b>. It is not a coincidence that UX was the first topic. It is obvious for quite some time now that eZ needs better experience for users and editors. At that point the demo web site installed by default was really outdated technically. It was not up to date with HTML standards and not showing off some new possibilities like responsive design, etc. &nbsp;In the meanwhile this was corrected (some more info here:&nbsp;<a href="http://ez.no/About-eZ/Blog/Automatic-Mobile-Strategy-Responsive-Design" target="_self">ez.no/About-eZ/Blog/Automatic-Mobile-Strategy-Responsive-Design</a>) as the problem was straightforward, so it was not topic for the Innovation Board.</p><p>But the situation was not that simple with the interface for editors. Currently we have:</p>
<ul>

<li>an administration interface. It implements all possible features: content management, user management, configuration, etc. The interface itself, although improved every now and then (with one bigger visual change and increased AJAX usage), is almost 10 years old. Conceptually. It is also highly technically oriented and not adapted for wider editorial staff</li>

<li>a web site interface. It can be used in some cases but it is not really user friendly and has only few features and, although more simple, it can still be confusing to not-so-skilled editor</li>

<li>several community efforts (like eZ Multitasking One or eZ Exceed) which probably do some things better as they are probably built to fit some real use cases but the general problem with those is that they are not “official”. I personally didn’t use it much so I can’t claim if they are better or not and in what cases.</li>

</ul>
<p>So one of the main tasks for eZ Systems in short-term is to <b>build a new editorial interface</b> and that was discussed in London meeting. Dozen user scenarios were processed and the general conclusion was that:</p>
<ol>

<li>the new editorial interface should be build from scratch (and not replacing the existing admin interface)</li>

<li>it should be an overlay on the website but much more user friendly and easier to use (so a power editor and a casual editor could use the same interface) than the existing web site interface</li>

<li>it should focus on the content management, other features should be left to the existing admin interface</li>

<li>the new interface should work on touch devices</li>

</ol>
<p>I really hope that we gave a lot of useful input for the eZ Product team and the new UX team. In last 2 months we have seen a great progress in that direction and it would be even better to have something usable in October.</p><a name="eztoc8416_3" id="eztoc8416_3"></a><h2>e-Commerce</h2><p>On the second meeting in <b>Rome</b> the main topic was <b>e-commerce</b>. Currently in eZ Publish we have a shop module which is usable in some simple cases, but the facts are:</p>
<ul>

<li>it can’t compete with some specialized solutions (e.g. Magento)</li>

<li>it doesn’t have customizable checkout workflow</li>

<li>it is not being developed for some time now (except fixing bugs)</li>

<li>it has even been removed from the admin interface &nbsp;(it is on its way to become extracted from kernel and put in separate extension)</li>

</ul>
<p>There are many partner and community efforts (like Xrow commerce extensions and Silver Solutions connectors to SAP, to name a few) which enrich the core features. Netgen too has few extension for connecting Croatian payment gateways (used in several projects). But the fact remains we need a better platform so several scenarios were discussed in the Board meeting. Not just the shop but also campaign management and other similar features that can be used for e-commerce.</p><p>The main discussions were on should eZ try to build the new shop that could compete with Magento, the importance of customizable workflows and how to handle campaigning. IMO the most important conclusion was that competing directly with Magento does not make much sense. Of course, community extension could go in that direction, but what eZ should do is to leverage the content stored in its own database. That basically means that <b>eZ should focus more on how to monetize content</b> (or selling virtual goods). That field is still very hot and without not ultimate solution. The importance of customizable workflows rise when we speak about virtual goods (e.g. a customer could only read 3 articles in a certain time period, etc.). And campaigning is also important but could be either solved by integrating with existing best of breed products or encourage community to innovate.</p><p>At the end it is important to note that possible real implementation of e-commerce scenarios are scheduled for 5.1 release next year. &nbsp;&nbsp;&nbsp;&nbsp;</p><a name="eztoc8416_4" id="eztoc8416_4"></a><h2>Conclusion</h2><p>The most important remark is that the Board work is not something that will replace any other effort in the ecosystem. IMO the community site is still the main hub for releasing ideas and initiatives. I see the Board as a focused add-on to the ecosystem. <b>A lot of ideas and experience can be shared when you bring people with different roles, jobs and backgrounds in a room for a day with not much interference.</b>&nbsp;</p><p>So the initiative can only bring some good stuff but will highly depend on board members engagement. That would be the board’s only possible weakness. &nbsp;</p>
    </div>

    <div class="attribute-url">
	<span>07/18/2012 06:55 am</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/About-the-eZ-Product-Innovation-Board">View mirror of item</a> &nbsp; <a href="http://www.netgen.hr/Blog/About-the-eZ-Product-Innovation-Board">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgenlabs.com/Blog/About-the-eZ-Product-Innovation-Board" title="About the eZ Product Innovation Board">About the eZ Product Innovation Board</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>As <a href="http://www.netgenlabs.com/Netgen/News/Netgen-has-a-representative-in-the-eZ-Product-Innovation-Board" target="_self">reported few months back</a>&nbsp;I was called to join the<b>&nbsp;eZ Product Innovation Board</b>. We had 2 meetings so far and I guess it is now a good time to cover the topic on our blog.</p><a name="eztoc8416_1" id="eztoc8416_1"></a><h2>The Board</h2><p>To be as much diverse as possible the Board has various eZ Ecosystem stakeholders: <b>partners, clients, employees, analysts</b>, etc. All in all roughly 20 people are involved in the initiative for 18 months or 6 meetings, 2 have already been held in London and Rome. The Board's tasks is to discuss possible improvements and new features which are most needed in the eZ Publish CMS and to suggest the best options to eZ Publish product management.&nbsp;</p><p>Chairman of the board is <a href="http://twitter.com/bardfarstad" target="_self">Bård Farstad</a> and he wrote few blog post after the initiative was announced: <a href="http://ez.no/About-eZ/Blog/Better-Faster-Stronger-Innovation-at-eZ" target="_self">ez.no/About-eZ/Blog/Better-Faster-Stronger-Innovation-at-eZ</a>&nbsp;and&nbsp;<a href="http://ez.no/About-eZ/Blog/Product-Innovation-at-eZ-First-Steps" target="_self">ez.no/About-eZ/Blog/Product-Innovation-at-eZ-First-Steps</a>.</p><p>The main idea behind the board is to have an all day meeting every 3 months to discuss use cases from all possible angles and then voting to see which use cases are more interesting than other. After the meeting the most interesting ones are sent to eZ Product management. So the board acts like a prioritized filter: processing the queue of use cases and outputting them sorted by priority.</p><a name="eztoc8416_2" id="eztoc8416_2"></a><h2>UX</h2>
<div class="object-right"><div class="content-view-embed">
<div class="class-image">
    <div class="attribute-image">

    
        
    
                                                                                                                                            <img src="http://www.netgenlabs.com/var/ezflow_site/storage/images/media/images/ez-pib-in-london/8426-1-cro-HR/eZ-PIB-in-London_large.jpg" width="360" height="267"  style="border: 0px solid ;" alt="Some member of the board in London (taken by Stewart Wilkinson)" title="Some member of the board in London (taken by Stewart Wilkinson)" />
            
    
    
    </div>

                                        <div class="attribute-caption" style="width: 360px">
                
<p>Some members of the Innovation Board in London (photo taken by Stuart Wilkinson)</p> </div>
         </div>
</div>
</div><p>On the first meeting in <b>London</b> the main topic was<b>&nbsp;user experience</b>. It is not a coincidence that UX was the first topic. It is obvious for quite some time now that eZ needs better experience for users and editors. At that point the demo web site installed by default was really outdated technically. It was not up to date with HTML standards and not showing off some new possibilities like responsive design, etc. &nbsp;In the meanwhile this was corrected (some more info here:&nbsp;<a href="http://ez.no/About-eZ/Blog/Automatic-Mobile-Strategy-Responsive-Design" target="_self">ez.no/About-eZ/Blog/Automatic-Mobile-Strategy-Responsive-Design</a>) as the problem was straightforward, so it was not topic for the Innovation Board.</p><p>But the situation was not that simple with the interface for editors. Currently we have:</p>
<ul>

<li>an administration interface. It implements all possible features: content management, user management, configuration, etc. The interface itself, although improved every now and then (with one bigger visual change and increased AJAX usage), is almost 10 years old. Conceptually. It is also highly technically oriented and not adapted for wider editorial staff</li>

<li>a web site interface. It can be used in some cases but it is not really user friendly and has only few features and, although more simple, it can still be confusing to not-so-skilled editor</li>

<li>several community efforts (like eZ Multitasking One or eZ Exceed) which probably do some things better as they are probably built to fit some real use cases but the general problem with those is that they are not “official”. I personally didn’t use it much so I can’t claim if they are better or not and in what cases.</li>

</ul>
<p>So one of the main tasks for eZ Systems in short-term is to <b>build a new editorial interface</b> and that was discussed in London meeting. Dozen user scenarios were processed and the general conclusion was that:</p>
<ol>

<li>the new editorial interface should be build from scratch (and not replacing the existing admin interface)</li>

<li>it should be an overlay on the website but much more user friendly and easier to use (so a power editor and a casual editor could use the same interface) than the existing web site interface</li>

<li>it should focus on the content management, other features should be left to the existing admin interface</li>

<li>the new interface should work on touch devices</li>

</ol>
<p>I really hope that we gave a lot of useful input for the eZ Product team and the new UX team. In last 2 months we have seen a great progress in that direction and it would be even better to have something usable in October.</p><a name="eztoc8416_3" id="eztoc8416_3"></a><h2>e-Commerce</h2><p>On the second meeting in <b>Rome</b> the main topic was <b>e-commerce</b>. Currently in eZ Publish we have a shop module which is usable in some simple cases, but the facts are:</p>
<ul>

<li>it can’t compete with some specialized solutions (e.g. Magento)</li>

<li>it doesn’t have customizable checkout workflow</li>

<li>it is not being developed for some time now (except fixing bugs)</li>

<li>it has even been removed from the admin interface &nbsp;(it is on its way to become extracted from kernel and put in separate extension)</li>

</ul>
<p>There are many partner and community efforts (like Xrow commerce extensions and Silver Solutions connectors to SAP, to name a few) which enrich the core features. Netgen too has few extension for connecting Croatian payment gateways (used in several projects). But the fact remains we need a better platform so several scenarios were discussed in the Board meeting. Not just the shop but also campaign management and other similar features that can be used for e-commerce.</p><p>The main discussions were on should eZ try to build the new shop that could compete with Magento, the importance of customizable workflows and how to handle campaigning. IMO the most important conclusion was that competing directly with Magento does not make much sense. Of course, community extension could go in that direction, but what eZ should do is to leverage the content stored in its own database. That basically means that <b>eZ should focus more on how to monetize content</b> (or selling virtual goods). That field is still very hot globally and without a good integrated solution. The importance of customizable workflows rise when we speak about virtual goods (e.g. a customer could only read 3 articles in a certain time period, etc.). And campaigning is also important but could be either solved by integrating with existing best of breed products or encourage community to innovate.</p><p>At the end it is important to note that possible real implementation of e-commerce scenarios are scheduled for 5.1 release next year. &nbsp;&nbsp;&nbsp;&nbsp;</p><a name="eztoc8416_4" id="eztoc8416_4"></a><h2>Conclusion</h2><p>The most important remark is that the Board work is not something that will replace any other effort in the ecosystem. IMO the community site is still the main hub for releasing ideas and initiatives. I see the Board as a focused add-on to the ecosystem. <b>A lot of ideas and experience can be shared when you bring people with different roles, jobs and backgrounds in a room for a day with not much interference.</b>&nbsp;</p><p>So the initiative can only bring some good stuff but will highly depend on board members engagement. That would be the board’s only possible weakness. &nbsp;</p>
    </div>

    <div class="attribute-url">
	<span>07/18/2012 06:55 am</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/About-the-eZ-Product-Innovation-Board2">View mirror of item</a> &nbsp; <a href="http://www.netgenlabs.com/Blog/About-the-eZ-Product-Innovation-Board">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgen.hr/Blog/Using-Tomcat-with-eZ-Find" title="Using Tomcat with eZ Find">Using Tomcat with eZ Find</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>Few years back when <a href="http://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Find" target="_self">eZ Find</a>&nbsp;(on <a href="https://github.com/ezsystems/ezfind" target="_self">github</a>) showed up we soon started to deploy it on almost every site we were implementing. We even worked with the ezlucene extension which was a kind of predecessor of eZ Find.</p><p>The hearth of eZ Find is <a href="http://lucene.apache.org/solr/" target="_self">Solr</a> - a Lucene based java search engine with REST interface. Bundled wit eZ Find comes <a href="http://jetty.codehaus.org/jetty/" target="_self">Jetty</a> for running the whole java stack with one command to keep the usage as simple as possible. And we used Jetty for a while but soon hit an issue. Jetty had the problem with UTF-8 encoding, can’t remember what it was but it didn’t use all Croatian letters well. So we switched to <a href="http://tomcat.apache.org/" target="_self">Apache Tomcat</a> instead. In the meanwhile Jetty probably resolved that issue but we discovered some other good things with Tomcat.</p>
<div class="object-right"><div class="content-view-embed">
<div class="class-image">
    <div class="attribute-image">

    
        
    
                                                                                                                                            <img src="http://www.netgen.hr/var/ezflow_site/storage/images/media/images/grumman_f-14_tomcat/8395-1-cro-HR/Grumman_F-14_Tomcat_large.png" width="360" height="241"  style="border: 0px solid ;" alt="Grumman_F-14_Tomcat" title="Grumman_F-14_Tomcat" />
            
    
    
    </div>

     </div>
</div>
</div><p>Surely there are many differences between Jetty and Tomcat in general, but I found a lot of contradicting information on the web regarding performance and system level stuff. In my experience Tomcat has a bit more configuration and tuning capabilities, which are important if you have a multi site setup.</p><p>The multi site setup is possible with Jetty too but a bit awkward. &nbsp;If you need more instances &nbsp;(for example different versions of solr or you just want to separate it ) you would need to set new port for each one, etc.</p><a name="eztoc8385_0_1" id="eztoc8385_0_1"></a><h3>Multi site setup with tomcat</h3><p>
For live environment after tomcat 5.5 or higher is installed and running, there is only one configuration file to add. Go to <br />/etc/tomcat/Catalina/localhost folder and create a myezfind.xml file:</p>	<pre class="" style="font-family:monospace;"><?xml version="<span style="">1.0</span>" encoding="UTF-<span style="">8</span>" ?>
<Context docBase="/<span class="br0">[</span>PATH_TO_WEB_ROOT<span class="br0">]</span>/extension/ezfind/java/webapps/solr.war" debug="<span style="">0</span>" crossContext="true">
<Environment name="solr/home" type="java.lang.String" value="/<span class="br0">[</span>PATH_TO_WEB_ROOT<span class="br0">]</span>/extension/ezfind/java/solr" override="true"/>
</Context>
&nbsp;</pre><p>You then need to do all other stuff you usally do:</p>
<ul>

<li>configure solr.ini with port etc (Tomcat is usually set to 8080 by default but that can be changed easily) </li>

<li>set writing permissions in java/data folder </li>

<li>run the indexing script</li>

</ul>
<p>With this configuration every eZ Publish instance has the index separated.</p><p>On the development server where 50+ web sites are held we have even less instances. This is achieved by having only one instance of solr for each ezfind version.</p><p><b>How we do it?</b></p>
<ul>

<li>we have &nbsp;ezfind installations deployed outside an ezpublish web root for each version. Basically only solr is there, not the whole ezfind</li>

<li>
we have 3 instances in tomcat pointing to those solr folders (as explained already)<br />
http://dev.server.local:8080/ezfind23<br />
http://dev.server.local:8080/ezfind24<br />http://dev.server.local:8080/ezfind25</li>

<li>for deploying a new web on the dev server we just need to point the right url in sorl.ini and run the indexing script.</li>

<li>installation_id parameter is taking care of dividing the results for each web </li>

</ul>
<p>2 remarks:</p>
<ul>

<li>do not use --clean-all when running the index script as you will wipe out all data from one index</li>

<li>if you duplicate a web by copying database make sure to delete the ezfind_id row in ezsite_data to reset the installation id</li>

</ul>
<p><b>autoDeploy="false"</b></p><p>One warning for the end. There is a very interesting Tomcat option for auto-deploying which is enabled by default. This enables that all changes you make to the configuration files are executed instantly. Although it does make some sense in some situations, we disabled it on dev server. Reason? If you by any chance change the folder pointed from tha Catalina xml file (e.g upgrading ez installations, etc.) tomcat will delete the xml configuration file :) Scary, if you don’t know what is&nbsp;happening&nbsp;(like I didn’t know first time configuring Tom the cat)</p>
    </div>

    <div class="attribute-url">
	<span>06/27/2012 03:31 pm</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/Using-Tomcat-with-eZ-Find">View mirror of item</a> &nbsp; <a href="http://www.netgen.hr/Blog/Using-Tomcat-with-eZ-Find">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgenlabs.com/Blog/Using-Tomcat-with-eZ-Find" title="Using Tomcat with eZ Find">Using Tomcat with eZ Find</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>Few years back when <a href="http://doc.ez.no/Extensions/eZ-Publish-extensions/eZ-Find" target="_self">eZ Find</a>&nbsp;(on <a href="https://github.com/ezsystems/ezfind" target="_self">github</a>) showed up we soon started to deploy it on almost every site we were implementing. We even worked with the ezlucene extension which was a kind of predecessor of eZ Find.</p><p>The hearth of eZ Find is <a href="http://lucene.apache.org/solr/" target="_self">Solr</a> - a Lucene based java search engine with REST interface. Bundled wit eZ Find comes <a href="http://jetty.codehaus.org/jetty/" target="_self">Jetty</a> for running the whole java stack with one command to keep the usage as simple as possible. And we used Jetty for a while but soon hit an issue. Jetty had the problem with UTF-8 encoding, can’t remember what it was but it didn’t use all Croatian letters well. So we switched to <a href="http://tomcat.apache.org/" target="_self">Apache Tomcat</a> instead. In the meanwhile Jetty probably resolved that issue but we discovered some other good things with Tomcat.</p>
<div class="object-right"><div class="content-view-embed">
<div class="class-image">
    <div class="attribute-image">

    
        
    
                                                                                                                                            <img src="http://www.netgenlabs.com/var/ezflow_site/storage/images/media/images/grumman_f-14_tomcat/8395-1-cro-HR/Grumman_F-14_Tomcat_large.png" width="360" height="241"  style="border: 0px solid ;" alt="Grumman_F-14_Tomcat" title="Grumman_F-14_Tomcat" />
            
    
    
    </div>

     </div>
</div>
</div><p>Surely there are many differences between Jetty and Tomcat in general, but I found a lot of contradicting information on the web regarding performance and system level stuff. In my experience Tomcat has a bit more configuration and tuning capabilities, which are important if you have a multi site setup.</p><p>The multi site setup is possible with Jetty too but a bit awkward. &nbsp;If you need more instances &nbsp;(for example different versions of solr or you just want to separate it ) you would need to set new port for each one, etc.</p><a name="eztoc8385_0_1" id="eztoc8385_0_1"></a><h3>Multi site setup with tomcat</h3><p>
For live environment after tomcat 5.5 or higher is installed and running, there is only one configuration file to add. Go to <br />/etc/tomcat/Catalina/localhost folder and create a myezfind.xml file:</p>	<pre class="" style="font-family:monospace;"><?xml version="<span style="">1.0</span>" encoding="UTF-<span style="">8</span>" ?>
<Context docBase="/<span class="br0">[</span>PATH_TO_WEB_ROOT<span class="br0">]</span>/extension/ezfind/java/webapps/solr.war" debug="<span style="">0</span>" crossContext="true">
<Environment name="solr/home" type="java.lang.String" value="/<span class="br0">[</span>PATH_TO_WEB_ROOT<span class="br0">]</span>/extension/ezfind/java/solr" override="true"/>
</Context>
&nbsp;</pre><p>You then need to do all other stuff you usally do:</p>
<ul>

<li>configure solr.ini with port etc (Tomcat is usually set to 8080 by default but that can be changed easily) </li>

<li>set writing permissions in java/data folder </li>

<li>run the indexing script</li>

</ul>
<p>With this configuration every eZ Publish instance has the index separated.</p><p>On the development server where 50+ web sites are held we have even less instances. This is achieved by having only one instance of solr for each ezfind version.</p><p><b>How we do it?</b></p>
<ul>

<li>we have &nbsp;ezfind installations deployed outside an ezpublish web root for each version. Basically only solr is there, not the whole ezfind</li>

<li>
we have 3 instances in tomcat pointing to those solr folders (as explained already)<br />
http://dev.server.local:8080/ezfind23<br />
http://dev.server.local:8080/ezfind24<br />http://dev.server.local:8080/ezfind25</li>

<li>for deploying a new web on the dev server we just need to point the right url in sorl.ini and run the indexing script.</li>

<li>installation_id parameter is taking care of dividing the results for each web </li>

</ul>
<p>2 remarks:</p>
<ul>

<li>do not use --clean-all when running the index script as you will wipe out all data from one index</li>

<li>if you duplicate a web by copying database make sure to delete the ezfind_id row in ezsite_data to reset the installation id</li>

</ul>
<p><b>autoDeploy="false"</b></p><p>One warning for the end. There is a very interesting Tomcat option for auto-deploying which is enabled by default. This enables that all changes you make to the configuration files are executed instantly. Although it does make some sense in some situations, we disabled it on dev server. Reason? If you by any chance change the folder pointed from tha Catalina xml file (e.g upgrading ez installations, etc.) tomcat will delete the xml configuration file :) Scary, if you don’t know what is&nbsp;happening&nbsp;(like I didn’t know first time configuring Tom the cat)</p>
    </div>

    <div class="attribute-url">
	<span>06/27/2012 03:31 pm</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/Using-Tomcat-with-eZ-Find2">View mirror of item</a> &nbsp; <a href="http://www.netgenlabs.com/Blog/Using-Tomcat-with-eZ-Find">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgen.hr/Blog/eZ-Publish-Summer-Camp-behind-the-scenes" title="eZ Publish Summer Camp - behind the scenes">eZ Publish Summer Camp - behind the scenes</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>It was late November. My colleague Vjeran and me were driving to our second office (in Osijek). Driving for few hours on a highway is an excellent opportunity to brainstorm. It is usually hard to find time to discuss some ideas as you always have some better things to do.&nbsp;So we brainstormed so intensely that we missed the turn and lost 20 minutes going around :)&nbsp;</p><p>Anyway, one of the ideas was to do a summer camp on eZ Publish topics in Croatia.&nbsp;</p><a name="eztoc8350_0_1" id="eztoc8350_0_1"></a><h3>Why not!?</h3><p>When I look back more than 6 months passed and feels like we are still at the beginning. Only few days ago we started to sell tickets. We already did a huge amount of work, but still there is more things to do. We:</p>
<ul>

<li><a href="http://share.ez.no/blogs/ivo-lukac/how-to-grow-your-business-through-more-community-engagement" target="_self">presented the idea on few occasions</a> (one was in Lisbon)</li>

<li>made a little survey with other eZ partners</li>

<li>teamed up with our old friend Vladimir to help us with his event management experience</li>

<li>organized the <a href="http://ezsummercamp.com/venue" target="_self">venue</a> (hotel, ...)</li>

<li>organized <a href="http://ezsummercamp.com/program" target="_self">speakers and workshops</a></li>

<li>designed and implemented a <a href="http://ezsummercamp.com" target="_self">web site</a></li>

<li>got few <a href="http://ezsummercamp.com/sponsors" target="_self">sponsors</a> on board (by the way: thanks for the support guys)</li>

<li>held <a href="http://ezsummercamp.com/news/presenting_ez_publish_cms_and_the_summer_camp_to_students_on_2_croatian_faculties" target="_self">2 presentations for students</a> about eZ Publish in general and about the Camp</li>

<li>plugged the payment system for <a href="http://ezsummercamp.com/register" target="_self">online registration </a></li>

</ul>
<p>But we still need to:</p>
<ul>

<li>do some marketing and fill the seats</li>

<li>prepare the workshops</li>

<li>prepare the virtual machines with eZ installed</li>

<li>prepare all the <a href="http://ezsummercamp.com/extras" target="_self">extras</a> like boat trip</li>

<li>get everyone safely to Bol</li>

<li>survive that 4 days of <b>learn & fun</b></li>

<li>get everyone safely home</li>

<li>collect feedback</li>

<li>start to brainstorm again for next year</li>

</ul>
<p>
It is our first year, lot of things is still unknown, there are big challenges ahead but we are nevertheless going to do it. <br />Yo-ho-ho!</p>
    </div>

    <div class="attribute-url">
	<span>06/06/2012 04:29 pm</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/eZ-Publish-Summer-Camp-behind-the-scenes">View mirror of item</a> &nbsp; <a href="http://www.netgen.hr/Blog/eZ-Publish-Summer-Camp-behind-the-scenes">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgenlabs.com/Blog/eZ-Publish-Summer-Camp-behind-the-scenes" title="eZ Publish Summer Camp - behind the scenes">eZ Publish Summer Camp - behind the scenes</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>It was late November. My colleague Vjeran and me were driving to our second office (in Osijek). Driving for few hours on a highway is an excellent opportunity to brainstorm. It is usually hard to find time to discuss some ideas as you always have some better things to do.&nbsp;So we brainstormed so intensely that we missed the turn and lost 20 minutes going around :)&nbsp;</p><p>Anyway, one of the ideas was to do a summer camp on eZ Publish topics in Croatia.&nbsp;</p><a name="eztoc8350_0_1" id="eztoc8350_0_1"></a><h3>
<div class=""><div class="content-view-embed">
<div class="class-image">
    <div class="attribute-image">

    
        
    
                                                                                                                                            <img src="http://www.netgenlabs.com/var/ezflow_site/storage/images/media/images/palme/8360-1-cro-HR/palme_reference.png" width="620" height="185"  style="border: 0px solid ;" alt="palme" title="palme" />
            
    
    
    </div>

     </div>
</div>
</div></h3><a name="eztoc8350_0_2" id="eztoc8350_0_2"></a><h3>Why not!?</h3><p>When I look back more than 6 months passed and feels like we are still at the beginning. Only few days ago we started to sell tickets. We already did a huge amount of work, but still there is more things to do. We:</p>
<ul>

<li><a href="http://share.ez.no/blogs/ivo-lukac/how-to-grow-your-business-through-more-community-engagement" target="_self">presented the idea on few occasions</a> (one was in Lisbon)</li>

<li>made a little survey with other eZ partners</li>

<li>teamed up with our old friend Vladimir to help us with his event management experience</li>

<li>organized the <a href="http://ezsummercamp.com/venue" target="_self">venue</a> (hotel, ...)</li>

<li>organized <a href="http://ezsummercamp.com/program" target="_self">speakers and workshops</a></li>

<li>designed and implemented a <a href="http://ezsummercamp.com" target="_self">web site</a></li>

<li>got few <a href="http://ezsummercamp.com/sponsors" target="_self">sponsors</a> on board (by the way: thanks for the support guys)</li>

<li>held <a href="http://ezsummercamp.com/news/presenting_ez_publish_cms_and_the_summer_camp_to_students_on_2_croatian_faculties" target="_self">2 presentations for students</a> about eZ Publish in general and about the Camp</li>

<li>plugged the payment system for <a href="http://ezsummercamp.com/register" target="_self">online registration </a></li>

</ul>
<p>But we still need to:</p>
<ul>

<li>do some marketing and fill the seats</li>

<li>prepare the workshops</li>

<li>prepare the virtual machines with eZ installed</li>

<li>prepare all the <a href="http://ezsummercamp.com/extras" target="_self">extras</a> like boat trip</li>

<li>get everyone safely to Bol</li>

<li>survive that 4 days of <b>learn & fun</b></li>

<li>get everyone safely home</li>

<li>collect feedback</li>

<li>start to brainstorm again for next year</li>

</ul>
<p>
It is our first year, lot of things is still unknown, there are big challenges ahead but we are nevertheless going to do it. <br />Yo-ho-ho!</p>
    </div>

    <div class="attribute-url">
	<span>06/06/2012 04:29 pm</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/eZ-Publish-Summer-Camp-behind-the-scenes2">View mirror of item</a> &nbsp; <a href="http://www.netgenlabs.com/Blog/eZ-Publish-Summer-Camp-behind-the-scenes">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgen.hr/Blog/How-to-create-a-modern-web-site-part-3-the-Web-Content-Model" title="How to create a modern web site - part 3: the Web Content Model">How to create a modern web site - part 3: the Web Content Model</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>Before I started to write these posts we used to call this part of the project Information Architecture (IA). While browsing the web about the topic for this post, I noticed that IA is used in much broader sense. It usually includes the site map (we covered it already), navigation, content organization, wire frames, mock-ups and user scenarios. The topic covered in this post is very specific part of this broader picture: how the content should be organized, thus we can call it information structure or content model. A similar concept is the database model when designing a system which uses an SQL database (of course, content model could be implemented via a database, depends on the software used).</p><a name="eztoc8288_0_1" id="eztoc8288_0_1"></a><h3>What is a web content model?</h3><p>There are several definitions we could apply:</p>
<ul>

<li>it is a basic information architecture (focusing on just describing each specific page)</li>

<li>it specifies information on each specific page</li>

<li>assessing needed content on each specific page</li>

</ul>
<p>First, you’ll notice that ‘specific page’ is mentioned always. In the process of specifying the content model all page types ought to be identified (we already defined some of them on the site map). The process is natural thing to do after site map is created. Also, with the content model in place you should have all the info for creating wire frames.</p><a name="eztoc8288_0_2" id="eztoc8288_0_2"></a><h3>How to create it?</h3><p>The content model is basically a sheet, so you can create it in Google spreadsheet, Excel or any other sheet application.</p>
<ol>

<li>Check your site map notes and collect all different types of pages specified there. Probably you will need to add more pages which were not in the site map. For example interstitial pages like login screen or error pages are usually not in the site map.</li>

<li>Next step would be to list all pieces of information for each page type</li>

<li>For each pieces of information set type and source </li>

</ol>
<p>Example for this web site showing just few page types:</p><table class="cols" cellpadding="2" cellspacing="0" summary="content model example"><col class="bglight" /><col class="bgdark" /><col class="bglight" /><col class="bgdark" /><tr><th scope="col" valign="top">  page type
  </th><th scope="col" valign="top">  what
  </th><th scope="col" valign="top">  type
  </th><th scope="col" valign="top">  source
  </th></tr><tr class="bglight"><td valign="top">  Frontpage
  </td><td valign="top">  3 messages with image
  </td><td valign="top">  slider
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  list of news and posts
  </td><td valign="top">  title, image, intro
  </td><td valign="top">  news, blog
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  manual list of references
  </td><td valign="top">  title, image, intro
  </td><td valign="top">  portfolio
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  feedback box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  testimonial box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  contact box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  manual list of clients
  </td><td valign="top">  slider
  </td><td valign="top">  clients
  </td></tr><tr class="bgdark"><td valign="top">  Blog post
  </td><td valign="top">  title
  </td><td valign="top">  text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  date
  </td><td valign="top">  date
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  author
  </td><td valign="top">  text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  tags
  </td><td valign="top">  tags
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  intro
  </td><td valign="top">  rich text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  image
  </td><td valign="top">  image
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  body
  </td><td valign="top">  rich text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  user comments
  </td><td valign="top">  comments
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  RSS subscribe box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  tags box
  </td><td valign="top">  cloud
  </td><td valign="top">  blog
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  manual list of clients
  </td><td valign="top">  slider
  </td><td valign="top">  clients
  </td></tr>
</table>
<p>In “page type” column all specific pages are listed. In “what” column all specific pieces of information are listed. For each “what” there is a description in “type” column of what kind of information is shown. This can be a simple information type like text for Title or more complex like comments. Also for all pieces of information which are not directly managed on the page, the page which manages that content is listed in “source” column. For example: Title of the page is always managed by the page, but a List of News & Posts is usually not, that information is actually gathered from other pages to avoid duplicate entry.</p><p>It is important that all stakeholders understand how each piece of information works, so that the functionality is common to all team members. If this is not the case, it can lead to problems later. E.g. client could expect User Comments to behave in some different way so the specification could be broken down to even smaller pieces.</p><p>Creating this sheet is probably not needed is some cases:</p>
<ul>

<li>if the site is simple so all information can be specified in sitemap and wireframes,</li>

<li>or, if the site is standard in some way (e.g blog site) so the content model is known,</li>

<li>or for very simple pages that have no manageable information </li>

</ul>
<p>But for more complex sites, especially with more customized content, this step should give a complete overview on all information that is presented and should be an excellent base for next &nbsp;steps:</p>
<ul>

<li>User scenarios</li>

<li>Wireframes</li>

<li>CMS page type definitions (if the site is being implement with modern CMS)</li>

</ul>
<p>For even more complex sites additional columns would be very handy. If, for example, a site has more user groups with different policies an additional “can read” column would be good to have.</p><p>What is important to remember that this model should be revised in situations were you learn more information in the following steps. For example, if you produce a clickable demo for user testing purposes and the results are telling you to change the content model, do it.</p><p>That is all for know, hopefully next post from this series will be published in less than year time :)</p>
    </div>

    <div class="attribute-url">
	<span>05/15/2012 04:12 am</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/How-to-create-a-modern-web-site-part-3-the-Web-Content-Model">View mirror of item</a> &nbsp; <a href="http://www.netgen.hr/Blog/How-to-create-a-modern-web-site-part-3-the-Web-Content-Model">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgenlabs.com/Blog/How-to-create-a-modern-web-site-part-3-the-Web-Content-Model" title="How to create a modern web site - part 3: the Web Content Model">How to create a modern web site - part 3: the Web Content Model</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>This is the third post in the series on how to create a modern web site. In previous post we covered&nbsp;<a href="http://www.netgenlabs.com/Blog/How-to-create-a-modern-web-site-part-1-from-the-first-idea-to-the-project-baseline" target="_self">how to set up the baseline for a web project</a>&nbsp;&nbsp;and&nbsp;<a href="http://www.netgenlabs.com/Blog/How-to-create-a-modern-web-site-part-2-the-site-map" target="_self">how to set up the site map</a>. This post will cover the next step in a web project: the<b> Web Content Mode</b>l.</p><p>Before I started to write these posts we used to call this part of the project Information Architecture (IA). While browsing the web about the topic for this post, I noticed that IA is used in much broader sense. It usually includes the site map (we covered it already), navigation, content organization, wire frames, mock-ups and user scenarios. The topic covered in this post is very specific part of this broader picture: how the content should be organized, thus we can call it information structure or content model. A similar concept is the database model when designing a system which uses an SQL database (of course, content model could be implemented via a database, depends on the software used).</p><a name="eztoc8288_0_1" id="eztoc8288_0_1"></a><h3>What is a web content model?</h3><p>There are several definitions we could apply:</p>
<ul>

<li>it is a basic information architecture (focusing on just describing each specific page)</li>

<li>it specifies information on each specific page</li>

<li>assessing needed content on each specific page</li>

</ul>
<p>First, you’ll notice that ‘specific page’ is mentioned always. In the process of specifying the content model all page types ought to be identified (we already defined some of them on the site map). The process is natural thing to do after site map is created. Also, with the content model in place you should have all the info for creating wire frames.</p><a name="eztoc8288_0_2" id="eztoc8288_0_2"></a><h3>How to create it?</h3><p>The content model is basically a sheet, so you can create it in Google spreadsheet, Excel or any other sheet application.</p>
<ol>

<li>Check your site map notes and collect all different types of pages specified there. Probably you will need to add more pages which were not in the site map. For example interstitial pages like login screen or error pages are usually not in the site map.</li>

<li>Next step would be to list all pieces of information for each page type</li>

<li>For each pieces of information set type and source </li>

</ol>
<p>Example for this web site showing just few page types:</p><table class="cols" cellpadding="2" cellspacing="0" summary="content model example"><col class="bglight" /><col class="bgdark" /><col class="bglight" /><col class="bgdark" /><tr><th scope="col" valign="top">  page type
  </th><th scope="col" valign="top">  what
  </th><th scope="col" valign="top">  type
  </th><th scope="col" valign="top">  source
  </th></tr><tr class="bglight"><td valign="top">  Frontpage
  </td><td valign="top">  3 messages with image
  </td><td valign="top">  slider
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  list of news and posts
  </td><td valign="top">  title, image, intro
  </td><td valign="top">  news, blog
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  manual list of references
  </td><td valign="top">  title, image, intro
  </td><td valign="top">  portfolio
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  feedback box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  testimonial box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  contact box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  manual list of clients
  </td><td valign="top">  slider
  </td><td valign="top">  clients
  </td></tr><tr class="bgdark"><td valign="top">  Blog post
  </td><td valign="top">  title
  </td><td valign="top">  text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  date
  </td><td valign="top">  date
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  author
  </td><td valign="top">  text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  tags
  </td><td valign="top">  tags
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  intro
  </td><td valign="top">  rich text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  image
  </td><td valign="top">  image
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  body
  </td><td valign="top">  rich text
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  user comments
  </td><td valign="top">  comments
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  RSS subscribe box
  </td><td valign="top">  custom
  </td><td valign="top">  &nbsp;
  </td></tr><tr class="bglight"><td valign="top">  &nbsp;
  </td><td valign="top">  tags box
  </td><td valign="top">  cloud
  </td><td valign="top">  blog
  </td></tr><tr class="bgdark"><td valign="top">  &nbsp;
  </td><td valign="top">  manual list of clients
  </td><td valign="top">  slider
  </td><td valign="top">  clients
  </td></tr>
</table>
<p>In “page type” column all specific pages are listed. In “what” column all specific pieces of information are listed. For each “what” there is a description in “type” column of what kind of information is shown. This can be a simple information type like text for Title or more complex like comments. Also for all pieces of information which are not directly managed on the page, the page which manages that content is listed in “source” column. For example: Title of the page is always managed by the page, but a List of News & Posts is usually not, that information is actually gathered from other pages to avoid duplicate entry.</p><p><b>It is important that all stakeholders understand how each piece of information works, so that the functionality is common to all team members.</b> If this is not the case, it can lead to problems later. E.g. client could expect User Comments to behave in some different way so the specification could be broken down to even smaller pieces.</p><p>Creating this sheet is probably not needed is some cases:</p>
<ul>

<li>if the site is simple so all information can be specified in sitemap and wireframes,</li>

<li>or, if the site is standard in some way (e.g blog site) so the content model is known,</li>

<li>or for very simple pages that have no manageable information </li>

</ul>
<p>But for more complex sites, especially with more customized content, this step should give a complete overview on all information that is presented and should be an excellent base for next &nbsp;steps:</p>
<ul>

<li>User scenarios</li>

<li>Wireframes</li>

<li>CMS page type definitions (if the site is being implement with modern CMS)</li>

</ul>
<p>For even more complex sites additional columns would be very handy. If, for example, a site has more user groups with different policies an additional “can read” column would be good to have.</p><p><b>What is important to remember that this model should be revised in situations were you learn more information in the following steps.</b> For example, if you produce a clickable demo for user testing purposes and the results are telling you to change the content model, do it.</p><p>That is all for know, hopefully next post from this series will be published in less than year time :)</p>
    </div>

    <div class="attribute-url">
	<span>05/15/2012 04:12 am</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/How-to-create-a-modern-web-site-part-3-the-Web-Content-Model2">View mirror of item</a> &nbsp; <a href="http://www.netgenlabs.com/Blog/How-to-create-a-modern-web-site-part-3-the-Web-Content-Model">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgen.hr/Blog/Confessions-of-an-apprentice-How-to-create-and-use-custom-fetch-functions-in-eZ-Publish" title="Confessions of an apprentice: How to create and use custom fetch functions in eZ Publish">Confessions of an apprentice: How to create and use custom fetch f ...</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p>Last time we have created a new database table, linked it to a new class we created specifically for this purpose, and learned how to extend the&nbsp;<b>eZPersistentObject</b> class which is used for all the data manipulation.</p><p>This time, we will learn how to actually use all of the features we’ve created last time in the templates. Of course, as always, I’ll create a simple example which will use as a foundation for all of your work in eZ Publish, as you progress to truly being a wizard.<b>&nbsp;</b></p><a name="eztoc8278_1" id="eztoc8278_1"></a><h2>Setting up fetch functions</h2><a name="eztoc8278_1_1" id="eztoc8278_1_1"></a><h3>Creating custom fetch functions</h3><p>The first thing you need to create are two PHP files for your module:<b>&nbsp;function_definition.php</b> and <b>mymodulefunctioncollection.php</b>. As you can see from the names of the files, <b>mymodulefunctioncollection.php</b> is a collection of all the functions that our fetch functions will use in the PHP side of the module, and<b>&nbsp;function_definition.php</b> is the PHP script which defines the names and parameters of our fetch functions.</p><p>First off, create the<b>&nbsp;mymodulefunctioncollection.php</b> in the <b>modules/mymodule</b> folder of your extension. This is actually a PHP class which will have a few of the functions we need in the templates. Let’s fill it up with some code, shall we?</p><pre><?php

class myModuleFunctionCollection
{
public static function fetchDiscountCodes( $offset=false, $limit = false )
{
$limits = null;
if ( is_numeric( $offset ) || is_numeric( $limit ) )
{
$limits = array();
$limits['offset'] = is_numeric( $offset ) ? (int) $offset : 0;
$limits['length'] = is_numeric( $limit ) ? (int) $limit : 15;
}

$fetchResult = myDiscountCode::fetchList( null, $limits );

if ( is_array( $fetchResult ) && !empty( $fetchResult ) )
return array( 'result' => $fetchResult );

return array( 'result' => false );
}

public static function fetchDiscountCodesCount()
{
$fetchResult = myDiscountCode::fetchCount();
if ( is_numeric( $fetchResult ) )
return array( 'result' => (int) $fetchResult );

return array( 'result' => 0 );
}
}

?></pre><p>
As you can see, we have defined two methods here: <b>fetchDiscountCodes()</b>, and <b>fetchDiscountCodesCount()</b>. The <b>fetchDiscountCodes()</b> method will take two parameters,<b>&nbsp;$offset</b> and <b>$limit</b> which will serve as parameters for one of the fetch functions. With those, we can define how much of the codes we want to fetch at once, and where in the table to begin fetching results, assuming we have a bunch of codes in our table. Since we already have a <b>fetchList()</b> method defined in the&nbsp;<b>myDiscountCode</b> class, we will just return a result according to those parameters. Therefore, we check if <b>$offset</b> and <b>$limit</b> are numeric values, and if either of them is a numeric value, we will set an offset value or a limit value to our <b>$limits</b> array accordingly. If none of them is a numeric value, we set them to some default values. In this case, I have chosen these values to be 0 for offset and 15 for limit, but you can set them to whichever values you’d like. After that, we just call the <b>fetchList()</b> method from the <b>myDiscountCode</b> class and apply those limits to it. When this function is called from a template, it will return either a false result, in case no data is in the table or if offset and limit are invalid or out of range, or a list of the <b>myDiscountCode</b> objects within specified limits.<br />The second function we have created is the fetchDiscountCodesCount() function which we’ll use to count all of the rows in the database table. And if there is data in the table, we will get a number of all the rows in it, otherwise, we will get a zero count.</p><p>The next step is to modify the function_definition.php file we’ve created. This file is the place where we create definitions for our fetch functions. As you will see in a moment, the structure of this file is very similar to the actual module.php file&nbsp;itself. We’ll start coding it like so:</p><pre><?php

$FunctionList = array();

$FunctionList['discount_codes'] = array( 
'name' => 'discount_codes',
'call_method' => array( 'class' => 'myModuleFunctionCollection', 'method' => 'fetchDiscountCodes' ),
'parameter_type' => 'standard',
'parameters' => array( array( 'name' => 'offset', 'type' => 'integer', 'required' => false, 'default' => 0 ), array( 'name' => 'limit', 'type' => 'integer', 'required' => false, 'default' => 15 ) )
);

$FunctionList['discount_codes_count'] = array(
'name' => 'discount_codes_count',
'call_method' => array( 'class' => 'myModuleFunctionCollection', 'method' => 'fetchDiscountCodesCount' ),
'parameter_type' => 'standard',
'parameters' => array()
);

?></pre><p>OK, so what do we see here? We have defined a <b>$FunctionList</b> array and put in it two keys called <b>discount_codes</b> and <b>discount_codes_count</b>. Each of these keys is an array which contains the following keys: <b>name</b>, <b>call_method</b>, <b>parameter_type</b>, and <b>parameters</b>.</p><p>The <b>name</b> key speaks for itself, it’s the name of the function we need to call. The <b>call_method</b> key is the key in which we define an array of the class and method this particular function uses, therefore, we’ll use our function collection and a method from it which matches the function we’d like to perform. The <b>parameter_type</b> key is a deprecated feature which is here because of backwards compatibility with the previous versions. And the last key is parameters. Its value is an array which consists of inner arrays which define the parameters we want to pass onto a function one by one. In the case of the <b>discount_codes</b> function, we have determined two integer parameters, ‘offset’ and ‘limit’, both of which are optional, and have default values of 0 and 15 respectively.</p><p>At the end of the day, when you test your code, if everything is set up properly, you’ll be able to write something like this:</p><pre>{def $discount_codes_fetch = fetch(‘mymodule’, ‘discount_codes’)}</pre><p>and get a list of discount codes.</p><a name="eztoc8278_1_2" id="eztoc8278_1_2"></a><h3>Using fetch functions in the templates</h3><p>Let’s say that you want to set up a template which will have a main purpose of editing discount codes in the database table. We will use both fetch functions we created to demonstrate their use. This is just a fragment of a larger code involving a form which submits the changes:</p><pre>{def $codes = fetch(mymodule, discount_codes, hash( offset, first_set( $view_parameters.offset, 0 ) ) )}
{def $codes_count = fetch(mymodule, discount_codes_count)}

{if $codes_count|gt( 0 )}
{foreach $codes as $code}
<tr>
<td><input type="checkbox" value="{$code.id}" name="CodeIDArray[]" /></td>
<td>{$code.discount_code|wash}</td>
<td>{$code.valid_from|datetime('custom', '%Y-%m-%d %H:%i')}</td>
<td>{$code.valid_to|datetime('custom', '%Y-%m-%d %H:%i')}</td>
<td><a href={concat('mymodule/editdiscountcode/', $code.id)|ezurl}><img src={'edit.gif'|ezimage} alt="Edit discount code" /></a></td>
</tr>
{/foreach}
{/if}</pre><p>
As you can see, after we fetched the codes count and the codes themselves, we created an HTML table inside the template which displays all of the relevant information regarding our discount codes. Also, at the end of each row in the table, we added an Edit link which will enable us to add new codes, and edit the existing ones.<br />
In the next article, we will deal with the necessary views for our discount codes to be fully functional.<br />
Until next time, I wish you happy coding,<br />Tomislav</p>
    </div>

    <div class="attribute-url">
	<span>05/07/2012 06:37 am</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/Confessions-of-an-apprentice-How-to-create-and-use-custom-fetch-functions-in-eZ-Publish">View mirror of item</a> &nbsp; <a href="http://www.netgen.hr/Blog/Confessions-of-an-apprentice-How-to-create-and-use-custom-fetch-functions-in-eZ-Publish">View item</a>
    </div>

        

    </div>
</div>                            
<div class="content-view-line">
    <div class="class-blog-post float-break">

    <div class="attribute-header">
        <h1><a href="/Mirror/Netgen">Netgen</a></h1>
     </div>
    <div class="attribute-header">
        <h2>> <a href="http://www.netgenlabs.com/Blog/Confessions-of-an-apprentice-How-to-create-and-use-custom-fetch-functions-in-eZ-Publish" title="Confessions of an apprentice: How to create and use custom fetch functions in eZ Publish">Confessions of an apprentice: How to create and use custom fetch f ...</a></h2>
     </div>

    <div class="attribute-byline">
	    </div>

    

    <div class="attribute-body float-break">
      <p><a href="http://www.netgen.hr/eng/Blog/Confessions-of-an-apprentice-How-to-manipulate-data-from-an-eZ-Publish-database-with-PHP" target="_blank">Last time</a> we have created a new database table, linked it to a new class we created specifically for this purpose, and learned how to extend the&nbsp;<b>eZPersistentObject</b> class which is used for all the data manipulation.</p><p>This time, we will learn how to actually create fetch functions for use in the templates. Of course, as always, I’ll create a simple example which will use as a foundation for all of your work in eZ Publish, as you progress to truly being a wizard.<b>&nbsp;</b></p><a name="eztoc8278_1" id="eztoc8278_1"></a><h2>Setting up fetch functions</h2><a name="eztoc8278_1_1" id="eztoc8278_1_1"></a><h3>Creating custom fetch functions</h3><p>The first thing you need to create are two PHP files for your module:<b>&nbsp;function_definition.php</b> and <b>mymodulefunctioncollection.php</b>. As you can see from the names of the files, <b>mymodulefunctioncollection.php</b> is a collection of all the functions that our fetch functions will use in the PHP side of the module, and<b>&nbsp;function_definition.php</b> is the PHP script which defines the names and parameters of our fetch functions.</p><p>First off, create the<b>&nbsp;mymodulefunctioncollection.php</b> in the <b>modules/mymodule</b> folder of your extension. This is actually a PHP class which will have a few of the functions we need in the templates. Let’s fill it up with some code, shall we?</p>	<pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;"><?php</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">class</span> myModuleFunctionCollection
<span style="color: #009900;">{</span>
    <span style="color: #000000; font-weight: bold;">public</span> static <span style="color: #000000; font-weight: bold;">function</span> fetchDiscountCodes<span style="color: #009900;">(</span> <span style="color: #000088;">$offset</span><span style="color: #339933;">=</span><span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span> <span style="color: #000088;">$limit</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">false</span> <span style="color: #009900;">)</span>
    <span style="color: #009900;">{</span>
        <span style="color: #000088;">$limits</span> <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #339933;">;</span>
        <span style="color: #b1b100;">if</span> <span style="color: #009900;">(</span> <a href="http://www.php.net/is_numeric"><span style="color: #990000;">is_numeric</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$offset</span> <span style="color: #009900;">)</span> <span style="color: #339933;">||</span> <a href="http://www.php.net/is_numeric"><span style="color: #990000;">is_numeric</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$limit</span> <span style="color: #009900;">)</span> <span style="color: #009900;">)</span>
        <span style="color: #009900;">{</span>
            <span style="color: #000088;">$limits</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
            <span style="color: #000088;">$limits</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'offset'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/is_numeric"><span style="color: #990000;">is_numeric</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$offset</span> <span style="color: #009900;">)</span> ? <span style="color: #009900;">(</span>int<span style="color: #009900;">)</span> <span style="color: #000088;">$offset</span> <span style="color: #339933;">:</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span>
            <span style="color: #000088;">$limits</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'length'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/is_numeric"><span style="color: #990000;">is_numeric</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$limit</span> <span style="color: #009900;">)</span> ? <span style="color: #009900;">(</span>int<span style="color: #009900;">)</span> <span style="color: #000088;">$limit</span> <span style="color: #339933;">:</span> <span style="color: #cc66cc;">15</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">}</span>
&nbsp;
        <span style="color: #000088;">$fetchResult</span> <span style="color: #339933;">=</span> myDiscountCode<span style="color: #339933;">::</span><span style="color: #004000;">fetchList</span><span style="color: #009900;">(</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$limits</span> <span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #b1b100;">if</span> <span style="color: #009900;">(</span> <a href="http://www.php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$fetchResult</span> <span style="color: #009900;">)</span> <span style="color: #339933;">&&</span> <span style="color: #339933;">!</span><a href="http://www.php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$fetchResult</span> <span style="color: #009900;">)</span> <span style="color: #009900;">)</span>
            <span style="color: #b1b100;">return</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span> <span style="color: #0000ff;">'result'</span> <span style="color: #339933;">=></span> <span style="color: #000088;">$fetchResult</span> <span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #b1b100;">return</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span> <span style="color: #0000ff;">'result'</span> <span style="color: #339933;">=></span> <span style="color: #009900; font-weight: bold;">false</span> <span style="color: #009900;">)</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">}</span>
&nbsp;
    <span style="color: #000000; font-weight: bold;">public</span> static <span style="color: #000000; font-weight: bold;">function</span> fetchDiscountCodesCount<span style="color: #009900;">(</span><span style="color: #009900;">)</span>
    <span style="color: #009900;">{</span>
        <span style="color: #000088;">$fetchResult</span> <span style="color: #339933;">=</span> myDiscountCode<span style="color: #339933;">::</span><span style="color: #004000;">fetchCount</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
        <span style="color: #b1b100;">if</span> <span style="color: #009900;">(</span> <a href="http://www.php.net/is_numeric"><span style="color: #990000;">is_numeric</span></a><span style="color: #009900;">(</span> <span style="color: #000088;">$fetchResult</span> <span style="color: #009900;">)</span> <span style="color: #009900;">)</span>
            <span style="color: #b1b100;">return</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span> <span style="color: #0000ff;">'result'</span> <span style="color: #339933;">=></span> <span style="color: #009900;">(</span>int<span style="color: #009900;">)</span> <span style="color: #000088;">$fetchResult</span> <span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #b1b100;">return</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span> <span style="color: #0000ff;">'result'</span> <span style="color: #339933;">=></span> <span style="color: #cc66cc;">0</span> <span style="color: #009900;">)</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">}</span>
<span style="color: #009900;">}</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">?></span></pre><p>
As you can see, we have defined two methods here: <b>fetchDiscountCodes()</b>, and <b>fetchDiscountCodesCount()</b>. The <b>fetchDiscountCodes()</b> method will take two parameters,<b>&nbsp;$offset</b> and <b>$limit</b> which will serve as parameters for one of the fetch functions. With those, we can define how much of the codes we want to fetch at once, and where in the table to begin fetching results, assuming we have a bunch of codes in our table. Since we already have a <b>fetchList()</b> method defined in the&nbsp;<b>myDiscountCode</b> class, we will just return a result according to those parameters. Therefore, we check if <b>$offset</b> and <b>$limit</b> are numeric values, and if either of them is a numeric value, we will set an offset value or a limit value to our <b>$limits</b> array accordingly. If none of them is a numeric value, we set them to some default values. In this case, I have chosen these values to be 0 for offset and 15 for limit, but you can set them to whichever values you’d like. After that, we just call the <b>fetchList()</b> method from the <b>myDiscountCode</b> class and apply those limits to it. When this function is called from a template, it will return either a false result, in case no data is in the table or if offset and limit are invalid or out of range, or a list of the <b>myDiscountCode</b> objects within specified limits.<br />The second function we have created is the fetchDiscountCodesCount() function which we’ll use to count all of the rows in the database table. And if there is data in the table, we will get a number of all the rows in it, otherwise, we will get a zero count.</p><p>The next step is to modify the function_definition.php file we’ve created. This file is the place where we create definitions for our fetch functions. As you will see in a moment, the structure of this file is very similar to the actual module.php file&nbsp;itself. We’ll start coding it like so:</p>	<pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;"><?php</span>
&nbsp;
<span style="color: #000088;">$FunctionList</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$FunctionList</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'discount_codes'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span> 
    <span style="color: #0000ff;">'name'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'discount_codes'</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'call_method'</span> <span style="color: #339933;">=></span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span>
        <span style="color: #0000ff;">'class'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'myModuleFunctionCollection'</span><span style="color: #339933;">,</span>
        <span style="color: #0000ff;">'method'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'fetchDiscountCodes'</span>
    <span style="color: #009900;">)</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'parameter_type'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'standard'</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'parameters'</span> <span style="color: #339933;">=></span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span>
        <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span>
            <span style="color: #0000ff;">'name'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'offset'</span><span style="color: #339933;">,</span>
            <span style="color: #0000ff;">'type'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'integer'</span><span style="color: #339933;">,</span>
            <span style="color: #0000ff;">'required'</span> <span style="color: #339933;">=></span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span>
            <span style="color: #0000ff;">'default'</span> <span style="color: #339933;">=></span> <span style="color: #cc66cc;">0</span>
        <span style="color: #009900;">)</span><span style="color: #339933;">,</span>
        <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span>
            <span style="color: #0000ff;">'name'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'limit'</span><span style="color: #339933;">,</span>
            <span style="color: #0000ff;">'type'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'integer'</span><span style="color: #339933;">,</span>
            <span style="color: #0000ff;">'required'</span> <span style="color: #339933;">=></span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span>
            <span style="color: #0000ff;">'default'</span> <span style="color: #339933;">=></span> <span style="color: #cc66cc;">15</span>
        <span style="color: #009900;">)</span>
    <span style="color: #009900;">)</span>
<span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$FunctionList</span><span style="color: #009900;">[</span><span style="color: #0000ff;">'discount_codes_count'</span><span style="color: #009900;">]</span> <span style="color: #339933;">=</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span>
    <span style="color: #0000ff;">'name'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'discount_codes_count'</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'call_method'</span> <span style="color: #339933;">=></span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span>
        <span style="color: #0000ff;">'class'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'myModuleFunctionCollection'</span><span style="color: #339933;">,</span>
        <span style="color: #0000ff;">'method'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'fetchDiscountCodesCount'</span>
    <span style="color: #009900;">)</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'parameter_type'</span> <span style="color: #339933;">=></span> <span style="color: #0000ff;">'standard'</span><span style="color: #339933;">,</span>
    <span style="color: #0000ff;">'parameters'</span> <span style="color: #339933;">=></span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">(</span><span style="color: #009900;">)</span>
<span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">?></span></pre><p>OK, so what do we see here? We have defined a <b>$FunctionList</b> array and put in it two keys called <b>discount_codes</b> and <b>discount_codes_count</b>. Each of these keys is an array which contains the following keys: <b>name</b>, <b>call_method</b>, <b>parameter_type</b>, and <b>parameters</b>.</p><p>The <b>name</b> key speaks for itself, it’s the name of the function we need to call. The <b>call_method</b> key is the key in which we define an array of the class and method this particular function uses, therefore, we’ll use our function collection and a method from it which matches the function we’d like to perform. The <b>parameter_type</b> key is a deprecated feature which is here because of backwards compatibility with the previous versions. And the last key is <b>parameters</b>. Its value is an array which consists of inner arrays which define the parameters we want to pass onto a function one by one. In the case of the <b>discount_codes</b> function, we have determined two integer parameters, ‘offset’ and ‘limit’, both of which are optional, and have default values of 0 and 15 respectively.</p><p>At the end of the day, when you test your code, if everything is set up properly, you’ll be able to write something like this:</p>	<pre class="eztemplate" style="font-family:monospace;"><span style="color: #66cc66;">{</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_functions/variables/def"><span style="color: #0600FF;">def</span></a> <span style="color: #0000bb;">$discount_codes_fetch</span> <span style="color: #66cc66;">=</span><span style="color: #dd0000;"> <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/data_and_information_extraction/fetch"><span style="color: #0600FF;">fetch</span></a><span style="color: #66cc66;">(</span></span><span style="color: #dd0000;">'mymodule'</span>, <span style="color: #dd0000;">'discount_codes'</span><span style="color: #66cc66;">)</span><span style="color: #66cc66;">}</span></pre><p>and get a list of discount codes.</p><a name="eztoc8278_1_2" id="eztoc8278_1_2"></a><h3>Using fetch functions in the templates</h3><p>Let’s say that you want to set up a template which will have a main purpose of editing discount codes in the database table. We will use both fetch functions we created to demonstrate their use. This is just a fragment of a larger code involving a form which submits the changes:</p>	<pre class="eztemplate" style="font-family:monospace;"><span style="color: #66cc66;">{</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_functions/variables/def"><span style="color: #0600FF;">def</span></a> <span style="color: #0000bb;">$codes</span> <span style="color: #66cc66;">=</span><span style="color: #dd0000;"> <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/data_and_information_extraction/fetch"><span style="color: #0600FF;">fetch</span></a><span style="color: #66cc66;">(</span>mymodule,</span> discount_codes, <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/arrays/hash"><span style="color: #0600FF;">hash</span></a><span style="color: #66cc66;">(</span> <span style="color: #0600FF;">offset</span>, <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/logical_operations/first_set"><span style="color: #0600FF;">first_set</span></a><span style="color: #66cc66;">(</span> <span style="color: #0000bb;">$view_parameters.</span><span style="color: #0600FF;">offset</span>, <span style="color: #cc66cc;">0</span> <span style="color: #66cc66;">)</span> <span style="color: #66cc66;">)</span> <span style="color: #66cc66;">)</span><span style="color: #66cc66;">}</span>
<span style="color: #66cc66;">{</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_functions/variables/def"><span style="color: #0600FF;">def</span></a> <span style="color: #0000bb;">$codes_count</span> <span style="color: #66cc66;">=</span><span style="color: #dd0000;"> <a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/data_and_information_extraction/fetch"><span style="color: #0600FF;">fetch</span></a><span style="color: #66cc66;">(</span>mymodule,</span> discount_codes_count<span style="color: #66cc66;">)</span><span style="color: #66cc66;">}</span>
&nbsp;
<span style="color: #66cc66;">{</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_control_structures/conditional_control/if"><span style="color: #0600FF;">if</span></a> <span style="color: #0000bb;">$codes_count</span><span style="color: #66cc66;">|</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/logical_operations/gt"><span style="color: #0600FF;">gt</span></a><span style="color: #66cc66;">(</span> <span style="color: #cc66cc;">0</span> <span style="color: #66cc66;">)</span><span style="color: #66cc66;">}</span>
    <span style="color: #66cc66;">{</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_control_structures/looping/foreach"><span style="color: #0600FF;">foreach</span></a> <span style="color: #0000bb;">$codes</span> <span style="color: #0600FF;">as</span> <span style="color: #0000bb;">$code</span><span style="color: #66cc66;">}</span>
        <tr>
            <td><input type="checkbox" value="<span style="color: #66cc66;">{</span><span style="color: #0000bb;">$code.id</span><span style="color: #66cc66;">}</span>" name="CodeIDArray[]" /></td>
            <td><span style="color: #66cc66;">{</span><span style="color: #0000bb;">$code.discount_code</span><span style="color: #66cc66;">|</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/strings/wash"><span style="color: #0600FF;">wash</span></a><span style="color: #66cc66;">}</span></td>
            <td><span style="color: #66cc66;">{</span><span style="color: #0000bb;">$code.valid_from</span><span style="color: #66cc66;">|</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/formatting_and_internationalization/datetime"><span style="color: #0600FF;">datetime</span></a><span style="color: #66cc66;">(</span><span style="color: #dd0000;">'custom'</span>, <span style="color: #dd0000;">'%Y-%m-%d %H:%i'</span><span style="color: #66cc66;">)</span><span style="color: #66cc66;">}</span></td>
            <td><span style="color: #66cc66;">{</span><span style="color: #0000bb;">$code.valid_to</span><span style="color: #66cc66;">|</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/formatting_and_internationalization/datetime"><span style="color: #0600FF;">datetime</span></a><span style="color: #66cc66;">(</span><span style="color: #dd0000;">'custom'</span>, <span style="color: #dd0000;">'%Y-%m-%d %H:%i'</span><span style="color: #66cc66;">)</span><span style="color: #66cc66;">}</span></td>
            <td><a href=<span style="color: #66cc66;">{</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/strings/concat"><span style="color: #0600FF;">concat</span></a><span style="color: #66cc66;">(</span><span style="color: #dd0000;">'mymodule/editdiscountcode/'</span>, <span style="color: #0000bb;">$code.id</span><span style="color: #66cc66;">)</span><span style="color: #66cc66;">|</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/urls/ezurl"><span style="color: #0600FF;">ezurl</span></a><span style="color: #66cc66;">}</span>><img src=<span style="color: #66cc66;">{</span><span style="color: #dd0000;">'edit.gif'</span><span style="color: #66cc66;">|</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_operators/urls/ezimage"><span style="color: #0600FF;">ezimage</span></a><span style="color: #66cc66;">}</span> alt="Edit discount code" /></a></td>
        </tr>
    <span style="color: #66cc66;">{</span><span style="color: #66cc66;">/</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_control_structures/looping/foreach"><span style="color: #0600FF;">foreach</span></a><span style="color: #66cc66;">}</span>
<span style="color: #66cc66;">{</span><span style="color: #66cc66;">/</span><a href="http://ez.no/doc/ez_publish/technical_manual/4_x/reference/template_control_structures/conditional_control/if"><span style="color: #0600FF;">if</span></a><span style="color: #66cc66;">}</span></pre><p>
As you can see, after we fetched the codes count and the codes themselves, we created an HTML table inside the template which displays all of the relevant information regarding our discount codes. Also, at the end of each row in the table, we added an Edit link which will enable us to add new codes, and edit the existing ones.<br />
In the next article, we will deal with the necessary views for our discount codes to be fully functional.<br />
Until next time, I wish you happy coding,<br />Tomislav</p>
    </div>

    <div class="attribute-url">
	<span>05/07/2012 06:37 am</span> &nbsp; <a href="http://www.netgen.hr/eng/Blog">www.netgen.hr/eng/Blog</a> &nbsp; <a href="/Mirror/Netgen/Confessions-of-an-apprentice-How-to-create-and-use-custom-fetch-functions-in-eZ-Publish2">View mirror of item</a> &nbsp; <a href="http://www.netgenlabs.com/Blog/Confessions-of-an-apprentice-How-to-create-and-use-custom-fetch-functions-in-eZ-Publish">View item</a>
    </div>

        

    </div>
</div>                        
            

<div class="pagenavigator">
<p>

           <span class="previous"><a href="/Mirror/Netgen/(offset)/70"><span class="text">&laquo;&nbsp;Previous</span></a></span>
       
            <span class="next"><a href="/Mirror/Netgen/(offset)/90"><span class="text">Next&nbsp;&raquo;</span></a></span>
      
<span class="pages">
                      <span class="other"><a href="/Mirror/Netgen">1</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/10">2</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/20">3</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/30">4</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/40">5</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/50">6</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/60">7</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/70">8</a></span>
            
        <span class="current">9</span>

                      <span class="other"><a href="/Mirror/Netgen/(offset)/90">10</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/100">11</a></span>
                              <span class="other"><a href="/Mirror/Netgen/(offset)/110">12</a></span>
            
</span>

</p>
<div class="break"></div>
</div>

 

                </div></div></div>
                <div class="border-bl"><div class="border-br"><div class="border-bc"></div></div></div>
                </div>
            </div>
        </div>

        <div class="extrainfo-column-position">
            <div class="extrainfo-column">
                <div class="border-box">
                <div class="border-tl"><div class="border-tr"><div class="border-tc"></div></div></div>
                <div class="border-ml"><div class="border-mr"><div class="border-mc float-break">
                                                <div class="attribute-tag-cloud">
                        <p>
                            
                        </p>
                        </div>

                        <div class="attribute-description">
                            
                        </div>

                        <div class="attribute-tags">
                            <h1>Tags</h1>
                            <ul>
                                                        </ul>
                        </div>

                        <div class="attribute-archive">
                            <h1>Archive</h1>
                            <ul>
                                                            <li><a href="/Mirror/Netgen/(month)/8/(year)/2014" title="">August 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/7/(year)/2014" title="">July 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/5/(year)/2014" title="">May 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/4/(year)/2014" title="">April 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/3/(year)/2014" title="">March 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/2/(year)/2014" title="">February 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/1/(year)/2014" title="">January 2014</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/12/(year)/2013" title="">December 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/11/(year)/2013" title="">November 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/10/(year)/2013" title="">October 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/9/(year)/2013" title="">September 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/8/(year)/2013" title="">August 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/7/(year)/2013" title="">July 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/6/(year)/2013" title="">June 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/5/(year)/2013" title="">May 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/4/(year)/2013" title="">April 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/3/(year)/2013" title="">March 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/2/(year)/2013" title="">February 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/1/(year)/2013" title="">January 2013</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/11/(year)/2012" title="">November 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/9/(year)/2012" title="">September 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/8/(year)/2012" title="">August 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/7/(year)/2012" title="">July 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/6/(year)/2012" title="">June 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/5/(year)/2012" title="">May 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/4/(year)/2012" title="">April 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/3/(year)/2012" title="">March 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/2/(year)/2012" title="">February 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/1/(year)/2012" title="">January 2012</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/12/(year)/2011" title="">December 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/11/(year)/2011" title="">November 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/10/(year)/2011" title="">October 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/9/(year)/2011" title="">September 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/8/(year)/2011" title="">August 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/6/(year)/2011" title="">June 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/5/(year)/2011" title="">May 2011</a></li>
                                                            <li><a href="/Mirror/Netgen/(month)/4/(year)/2011" title="">April 2011</a></li>
                                                        </ul>
                        </div>

                        <!--START: CAL NAV -->
                                                                                                                                                            
<div class="calendar">
<div class="calendar-tl"><div class="calendar-tr"><div class="calendar-bl"><div class="calendar-br">
<div class="content">

<div class="month">
<div class="previous">
<p><a href="/Mirror/Netgen/(month)/7/(year)/2014" title="Previous month">&#8249;&#8249;<span class="hide"> Previous month</span></a></p>
</div>
<div class="next">
<p><a href="/Mirror/Netgen/(month)/9/(year)/2014" title="Next month"><span class="hide">Next month </span>&#8250;&#8250;</a></p>
</div>
<h2>August&nbsp;2014</h2>
</div>

<div class="table">
<table cellspacing="0" border="0" summary="Calendar">
<tr class="top">
    <th class="left">Mon</th>
    <th>Tue</th>
    <th>Wed</th>
    <th>Thu</th>
    <th>Fri</th>
    <th>Sat</th>
    <th class="right">Sun</th>
</tr>                <tr class="">
                                            <td class="left">&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            <td class=" ">
            1
        </td>
                            <td class=" ">
            2
        </td>
                                        <td class="  right">
            3
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            4
        </td>
                            <td class=" ">
            5
        </td>
                            <td class=" ">
            6
        </td>
                            <td class=" ">
            7
        </td>
                            <td class=" ">
            8
        </td>
                            <td class=" ">
            9
        </td>
                                        <td class="  right">
            10
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            11
        </td>
                            <td class=" ">
            12
        </td>
                            <td class=" ">
            13
        </td>
                            <td class=" ">
            14
        </td>
                            <td class=" ">
            15
        </td>
                            <td class=" ">
            16
        </td>
                                        <td class="  right">
            17
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            <em><a href="/Mirror/Netgen/(day)/18/(month)/8/(year)/2014">18</a></em>
        </td>
                            <td class=" ">
            19
        </td>
                            <td class=" ">
            20
        </td>
                            <td class=" ">
            <em><a href="/Mirror/Netgen/(day)/21/(month)/8/(year)/2014">21</a></em>
        </td>
                            <td class=" ">
            22
        </td>
                            <td class="currentselected today">
            23
        </td>
                                        <td class="  right">
            24
        </td>
                </tr>
                        <tr class="bottom">
                    <td class="  left">
            25
        </td>
                            <td class=" ">
            26
        </td>
                            <td class=" ">
            27
        </td>
                            <td class=" ">
            28
        </td>
                            <td class=" ">
            29
        </td>
                            <td class=" ">
            30
        </td>
                                        <td class="  right">
            31
        </td>
                </tr>
        </table>
</div>

</div>
</div></div></div></div>
</div>

<!-- END: CAL NAV -->                </div></div></div>
                <div class="border-bl"><div class="border-br"><div class="border-bc"></div></div></div>
                </div>
            </div>
        </div>
    </div>
</div>";s:15:"view_parameters";a:5:{s:6:"offset";s:2:"80";s:4:"year";b:0;s:5:"month";b:0;s:3:"day";b:0;s:10:"namefilter";b:0;}s:4:"path";a:3:{i:0;a:4:{s:4:"text";s:12:"eZ Ecosystem";s:3:"url";s:20:"/content/view/full/2";s:9:"url_alias";s:0:"";s:7:"node_id";s:1:"2";}i:1;a:4:{s:4:"text";s:6:"Mirror";s:3:"url";s:22:"/content/view/full/216";s:9:"url_alias";s:6:"Mirror";s:7:"node_id";s:3:"216";}i:2;a:4:{s:4:"text";s:6:"Netgen";s:3:"url";b:0;s:9:"url_alias";b:0;s:7:"node_id";s:3:"228";}}s:10:"title_path";a:3:{i:0;a:4:{s:4:"text";s:12:"eZ Ecosystem";s:3:"url";s:20:"/content/view/full/2";s:9:"url_alias";s:0:"";s:7:"node_id";s:1:"2";}i:1;a:4:{s:4:"text";s:6:"Mirror";s:3:"url";s:22:"/content/view/full/216";s:9:"url_alias";s:6:"Mirror";s:7:"node_id";s:3:"216";}i:2;a:3:{s:4:"text";s:6:"Netgen";s:3:"url";b:0;s:9:"url_alias";b:0;}}s:10:"section_id";s:1:"1";s:7:"node_id";s:3:"228";s:15:"navigation_part";s:23:"ezcontentnavigationpart";s:12:"content_info";a:24:{s:9:"object_id";s:3:"226";s:7:"node_id";s:3:"228";s:14:"parent_node_id";s:3:"216";s:8:"class_id";s:2:"19";s:16:"class_identifier";s:4:"blog";s:9:"remote_id";s:32:"7f359aaa74ea9081f7b9d7c57013072d";s:14:"node_remote_id";s:32:"80d65711644b755185f988f146faca0d";s:6:"offset";i:80;s:8:"viewmode";s:4:"full";s:26:"navigation_part_identifier";s:23:"ezcontentnavigationpart";s:10:"node_depth";s:1:"3";s:9:"url_alias";s:13:"Mirror/Netgen";s:16:"current_language";s:6:"eng-US";s:13:"language_mask";s:1:"2";s:12:"main_node_id";s:3:"228";s:19:"main_node_url_alias";b:0;s:19:"persistent_variable";a:2:{s:9:"left_menu";b:0;s:10:"extra_menu";b:0;}s:11:"class_group";b:0;s:5:"state";a:1:{i:2;s:1:"1";}s:16:"state_identifier";a:1:{i:0;s:18:"ez_lock/not_locked";}s:15:"parent_class_id";s:1:"1";s:23:"parent_class_identifier";s:6:"folder";s:21:"parent_node_remote_id";s:32:"418ada46ecd2d42b7744e9cee6c51085";s:23:"parent_object_remote_id";s:32:"5b6a5a0179108fb40b786874ab09d743";}s:13:"template_list";a:3:{i:0;s:64:"extension/ezecosystem/design/eze/templates/tagcloud/tagcloud.tpl";i:1;s:61:"design/standard/templates/content/datatype/view/ezxmltext.tpl";i:2;s:66:"extension/ezwebin/design/ezwebin/templates/parts/blog/calendar.tpl";}s:9:"cache_ttl";i:-1;}