a:10:{s:7:"content";s:10613:"
<div class="class-blog extrainfo">
    <div class="columns-blog float-break">
        <div class="main-column-position">
            <div class="main-column float-break">
                <div class="border-box">
                <div class="border-tl"><div class="border-tr"><div class="border-tc"></div></div></div>
                <div class="border-ml"><div class="border-mr"><div class="border-mc float-break">

                        <div class="content-view-full">
                            <div class="class-blog-post float-break">

                                <div class="attribute-header">
                                    <h1>Object that should not be visible appears in object relation(s)</h1>
                                </div>

                                <div class="attribute-byline">
				    <div><a href="http://share.ez.no/community-project/security-advisories/ezsa-2013-013-object-that-should-not-be-visible-appears-in-object-relation-s">Read Original Item</a></div><br />
                                </div>

                                <div class="attribute-byline">
                                    <p class="date">08/05/2013 11:15 am</p>
                                    <p class="author">André R ( http://share.ez.no/p/9757 )</p>
				                                    </div>

				

				<div class="attribute-body float-break">
				      <p>This Security Update fixes a problem with object relation visibility. Related objects could be displayed even when the user did not have read access to them. After this update, the default templates are modified. The relations are object based, so the related objects are displayed if ANY of their nodes are readable by the user. Any custom templates you use will need to be modified in the same way, if you need this visibility check. Please refer to the following documentation:</p>
<ul>

<li><a href="http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Reference/Datatypes/Object-relation" target="_self">Relation Datatype</a></li>

<li><a href="http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Reference/Datatypes/Object-relations" target="_self">Relation List Datatype</a></li>

<li><a href="http://doc.ez.no/eZ-Publish/Technical-manual/5.x/Concepts-and-basics/Content-management/Object-relations" target="_self">Object Realtions</a></li>

</ul>
<a name="eztoc899694_0_0_0_0_1" id="eztoc899694_0_0_0_0_1"></a><h6>Some background information</h6><p>As these features has never cared much about permissions, we decided to look to ezxmltext for how to solve this. And in ezxmltext this is solved in the output layer, a layer between the datatype and the templates. Relation datatypes does not have such a layer, so we solved it in the templates and plan to solve it more natively in "5.x" (aka new stack).</p><p>Potential followup enhancements we should all look into in the future is:</p>
<ul>

<li>[Legacy kernel] Change templates it to use ( can_read || can_view_embed ) instead of only can_read to align behavior with ezxmltext</li>

<li>[5.x kernel] <a href="https://jira.ez.no/browse/EZP-21387" target="_self">Add a (embeddable) relations view</a> that can in a more performing way display content and/or field relations</li>

<li>[5.x Editorial UI]: Better define the expected behavior, for instance should the editor be warned like is attempted in ezoe when relation is not accessible to current user?</li>

</ul>
<p>We have also received feedback that the legacy approach should be changed to use a signal content relation fetch which deals with visibility and permissions instead of checks inline in the loops, this would be beneficial in many ways and contributions to make this possible is more then welcome.</p><p> </p><p>Patch for eZ Publish: <a href="https://github.com/ezsystems/ezpublish-legacy/commit/c5ccb6793ee4992eeef22cabc5af5f1fbe02392b" target="_self">https://github.com/ezsystems/ezpublish-legacy/commit/c5ccb6793ee4992eeef22cabc5af5f1fbe02392b</a></p>
				</div>

                                
                                <div class="attribute-byline">
				    <div><a href="http://share.ez.no/community-project/security-advisories/ezsa-2013-013-object-that-should-not-be-visible-appears-in-object-relation-s">Read Original Item</a></div>
                                </div>

                                                            </div>
                        </div>

                </div></div></div>
                <div class="border-bl"><div class="border-br"><div class="border-bc"></div></div></div>
                </div>
            </div>
        </div>

        <div class="extrainfo-column-position">
            <div class="extrainfo-column">
                <div class="border-box">
                <div class="border-tl"><div class="border-tr"><div class="border-tc"></div></div></div>
                <div class="border-ml"><div class="border-mr"><div class="border-mc float-break">
                                                <div class="attribute-tag-cloud">
                        <p>
                            
                        </p>
                        </div>

                        <div class="attribute-description">
                            
                        </div>

                        <div class="attribute-tags">
                            <h1>Tags</h1>
                            <ul>
                                                        </ul>
                        </div>

                        <div class="attribute-archive">
                            <h1>Archive</h1>
                            <ul>
                                                            <li><a href="/Mirror/Security-Advisories/(month)/8/(year)/2013" title="">August 2013</a></li>
                                                            <li><a href="/Mirror/Security-Advisories/(month)/12/(year)/2012" title="">December 2012</a></li>
                                                            <li><a href="/Mirror/Security-Advisories/(month)/9/(year)/2012" title="">September 2012</a></li>
                                                            <li><a href="/Mirror/Security-Advisories/(month)/7/(year)/2012" title="">July 2012</a></li>
                                                            <li><a href="/Mirror/Security-Advisories/(month)/5/(year)/2012" title="">May 2012</a></li>
                                                            <li><a href="/Mirror/Security-Advisories/(month)/3/(year)/2012" title="">March 2012</a></li>
                                                        </ul>
                        </div>

                        <!--START: CAL NAV -->
    
<div class="calendar">
<div class="calendar-tl"><div class="calendar-tr"><div class="calendar-bl"><div class="calendar-br">
<div class="content">

<div class="month">
<div class="previous">
<p><a href="/Mirror/Security-Advisories/(month)/7/(year)/2014" title="Previous month">&#8249;&#8249;<span class="hide"> Previous month</span></a></p>
</div>
<div class="next">
<p><a href="/Mirror/Security-Advisories/(month)/9/(year)/2014" title="Next month"><span class="hide">Next month </span>&#8250;&#8250;</a></p>
</div>
<h2>August&nbsp;2014</h2>
</div>

<div class="table">
<table cellspacing="0" border="0" summary="Calendar">
<tr class="top">
    <th class="left">Mon</th>
    <th>Tue</th>
    <th>Wed</th>
    <th>Thu</th>
    <th>Fri</th>
    <th>Sat</th>
    <th class="right">Sun</th>
</tr>                <tr class="">
                                            <td class="left">&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            <td class=" ">
            1
        </td>
                            <td class=" ">
            2
        </td>
                                        <td class="  right">
            3
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            4
        </td>
                            <td class=" ">
            5
        </td>
                            <td class=" ">
            6
        </td>
                            <td class=" ">
            7
        </td>
                            <td class=" ">
            8
        </td>
                            <td class=" ">
            9
        </td>
                                        <td class="  right">
            10
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            11
        </td>
                            <td class=" ">
            12
        </td>
                            <td class=" ">
            13
        </td>
                            <td class=" ">
            14
        </td>
                            <td class=" ">
            15
        </td>
                            <td class=" ">
            16
        </td>
                                        <td class="  right">
            17
        </td>
                </tr>
                        <tr class="">
                    <td class="  left">
            18
        </td>
                            <td class=" ">
            19
        </td>
                            <td class=" ">
            20
        </td>
                            <td class=" ">
            21
        </td>
                            <td class=" ">
            22
        </td>
                            <td class=" ">
            23
        </td>
                                        <td class="  right">
            24
        </td>
                </tr>
                        <tr class="bottom">
                    <td class="  left">
            25
        </td>
                            <td class=" ">
            26
        </td>
                            <td class="currentselected today">
            27
        </td>
                            <td class=" ">
            28
        </td>
                            <td class=" ">
            29
        </td>
                            <td class=" ">
            30
        </td>
                                        <td class="  right">
            31
        </td>
                </tr>
        </table>
</div>

</div>
</div></div></div></div>
</div>

<!-- END: CAL NAV -->                </div></div></div>
                <div class="border-bl"><div class="border-br"><div class="border-bc"></div></div></div>
                </div>
            </div>
        </div>
    </div>
</div>";s:15:"view_parameters";a:5:{s:6:"offset";b:0;s:4:"year";b:0;s:5:"month";b:0;s:3:"day";b:0;s:10:"namefilter";b:0;}s:4:"path";a:4:{i:0;a:4:{s:4:"text";s:12:"eZ Ecosystem";s:3:"url";s:20:"/content/view/full/2";s:9:"url_alias";s:0:"";s:7:"node_id";s:1:"2";}i:1;a:4:{s:4:"text";s:6:"Mirror";s:3:"url";s:22:"/content/view/full/216";s:9:"url_alias";s:6:"Mirror";s:7:"node_id";s:3:"216";}i:2;a:4:{s:4:"text";s:19:"Security Advisories";s:3:"url";s:23:"/content/view/full/9182";s:9:"url_alias";s:26:"Mirror/Security-Advisories";s:7:"node_id";s:4:"9182";}i:3;a:4:{s:4:"text";s:63:"Object that should not be visible appears in object relation(s)";s:3:"url";b:0;s:9:"url_alias";b:0;s:7:"node_id";s:4:"9184";}}s:10:"title_path";a:4:{i:0;a:4:{s:4:"text";s:12:"eZ Ecosystem";s:3:"url";s:20:"/content/view/full/2";s:9:"url_alias";s:0:"";s:7:"node_id";s:1:"2";}i:1;a:4:{s:4:"text";s:6:"Mirror";s:3:"url";s:22:"/content/view/full/216";s:9:"url_alias";s:6:"Mirror";s:7:"node_id";s:3:"216";}i:2;a:4:{s:4:"text";s:19:"Security Advisories";s:3:"url";s:23:"/content/view/full/9182";s:9:"url_alias";s:26:"Mirror/Security-Advisories";s:7:"node_id";s:4:"9182";}i:3;a:3:{s:4:"text";s:63:"Object that should not be visible appears in object relation(s)";s:3:"url";b:0;s:9:"url_alias";b:0;}}s:10:"section_id";s:1:"1";s:7:"node_id";s:4:"9184";s:15:"navigation_part";s:23:"ezcontentnavigationpart";s:12:"content_info";a:24:{s:9:"object_id";s:5:"31191";s:7:"node_id";s:4:"9184";s:14:"parent_node_id";s:4:"9182";s:8:"class_id";s:2:"20";s:16:"class_identifier";s:9:"blog_post";s:9:"remote_id";s:45:"RSSImport_40_54a08508afe4035f0e194eb063240af6";s:14:"node_remote_id";s:32:"98d1384052538d2683f2f70ea6d13fd9";s:6:"offset";b:0;s:8:"viewmode";s:4:"full";s:26:"navigation_part_identifier";s:23:"ezcontentnavigationpart";s:10:"node_depth";s:1:"4";s:9:"url_alias";s:89:"Mirror/Security-Advisories/Object-that-should-not-be-visible-appears-in-object-relation-s";s:16:"current_language";s:6:"eng-US";s:13:"language_mask";s:1:"2";s:12:"main_node_id";s:4:"9184";s:19:"main_node_url_alias";b:0;s:19:"persistent_variable";a:2:{s:9:"left_menu";b:0;s:10:"extra_menu";b:0;}s:11:"class_group";b:0;s:5:"state";a:1:{i:2;s:1:"1";}s:16:"state_identifier";a:1:{i:0;s:18:"ez_lock/not_locked";}s:15:"parent_class_id";s:2:"19";s:23:"parent_class_identifier";s:4:"blog";s:21:"parent_node_remote_id";s:32:"0a7654879f1139274064c99ee62c0487";s:23:"parent_object_remote_id";s:32:"2fee9153be78f770e5ffdfb8bfaddf8f";}s:13:"template_list";a:3:{i:0;s:64:"extension/ezecosystem/design/eze/templates/tagcloud/tagcloud.tpl";i:1;s:61:"design/standard/templates/content/datatype/view/ezxmltext.tpl";i:2;s:66:"extension/ezwebin/design/ezwebin/templates/parts/blog/calendar.tpl";}s:9:"cache_ttl";i:-1;}